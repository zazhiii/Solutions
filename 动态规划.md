# ä¸€. åŠ¨æ€è§„åˆ’å…¥é—¨é¢˜

## P1216 æ•°å­—ä¸‰è§’å½¢ Number Triangles

[P1216 [USACO1.5\] [IOI1994]æ•°å­—ä¸‰è§’å½¢ Number Triangles - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)](https://www.luogu.com.cn/problem/P1216)

è§‚å¯Ÿä¸‹é¢çš„æ•°å­—é‡‘å­—å¡”ã€‚


å†™ä¸€ä¸ªç¨‹åºæ¥æŸ¥æ‰¾ä»æœ€é«˜ç‚¹åˆ°åº•éƒ¨ä»»æ„å¤„ç»“æŸçš„è·¯å¾„ï¼Œä½¿è·¯å¾„ç»è¿‡æ•°å­—çš„å’Œæœ€å¤§ã€‚æ¯ä¸€æ­¥å¯ä»¥èµ°åˆ°å·¦ä¸‹æ–¹çš„ç‚¹ä¹Ÿå¯ä»¥åˆ°è¾¾å³ä¸‹æ–¹çš„ç‚¹ã€‚

![](https://cdn.luogu.com.cn/upload/image_hosting/95pzs0ne.png)

åœ¨ä¸Šé¢çš„æ ·ä¾‹ä¸­ï¼Œä» $7 \to 3 \to 8 \to 7 \to 5$ çš„è·¯å¾„äº§ç”Ÿäº†æœ€å¤§æƒå€¼ã€‚

> tags: dp

Ideasï¼š

> å½“å‰ä½ç½®çš„æœ€å¤§æƒå€¼ç”±ä¸Šå‡ ä¸ªä½ç½®çš„æœ€å¤§æƒå€¼çš„æœ€å¤§å€¼åŠ ä¸Šå½“å‰ä½ç½®çš„å…ƒç´ å€¼æ‰€å¾—ï¼›
>
> tipsï¼š è®°å½•å…ƒç´ çš„æ•°ç»„å’Œdpæ•°ç»„éƒ½å¯ä¼˜åŒ–ä¸ºä¸€ç»´æ•°ç»„ï¼Œè¯»ä¸€è¡Œæ•°æ®åˆ™æ›´æ–°ä¸€édpæ•°ç»„
>
> `dp[i]`ï¼šä»£è¡¨åˆ°å½“å‰ä½ç½®çš„æœ€å¤§æƒå€¼
>
> å½“`i!=0`ï¼š`dp[i] = Math.max(dp[i], dp[i-1])+nums[i]`
>
> å½“`i==0`ï¼š`dp[i] =dp[i]+nums[i]`

```java
import java.util.Scanner;
public class Main {
    public static void main(String[] args) {
        Scanner s = new Scanner(System.in);
        int r = s.nextInt();
        int[] nums = new int[r];
        int[] dp = new int[r];
        for (int i = 0; i <= r - 1; i++) {
        	if(i==0) {
        		dp[0] = s.nextInt();//åˆå§‹åŒ–dpæ•°ç»„
        	}
        	else {
                for (int j = 0; j <= i; j++) {//è¯»å…¥iè¡Œæ•°æ®
                    nums[j] = s.nextInt();
                }
                for (int j = i; j >=0; j--) {//å€’åºéå†dpæ•°ç»„
            		if (j==0) {
						dp[j]= dp[j]+nums[j]; 
					}else {
						dp[j] = Math.max(dp[j], dp[j-1])+nums[j];
					}
            }          
			}
        }
        int res = 0;
        for (int i = 0; i <= r - 1; i++) {
            res = Math.max(res, dp[i]);
        }
        System.out.println(res);
    }
}
```

# äºŒ. 01èƒŒåŒ…

![image-20240206170315245](C:\Users\LXH15\AppData\Roaming\Typora\typora-user-images\image-20240206170315245.png)





## P1048 é‡‡è¯

[P1048 [NOIP2005 æ™®åŠç»„\] é‡‡è¯ - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)](https://www.luogu.com.cn/problem/P1048)

å±±æ´é‡Œæœ‰ä¸€äº›ä¸åŒçš„è‰è¯ï¼Œé‡‡æ¯ä¸€æ ªéƒ½éœ€è¦ä¸€äº›æ—¶é—´ï¼Œæ¯ä¸€æ ªä¹Ÿæœ‰å®ƒè‡ªèº«çš„ä»·å€¼ã€‚ä½ ä¸€æ®µæ—¶é—´ï¼Œåœ¨è¿™æ®µæ—¶é—´é‡Œï¼Œä½ å¯ä»¥é‡‡åˆ°ä¸€äº›è‰è¯ã€‚å¦‚æœä½ æ˜¯ä¸€ä¸ªèªæ˜çš„å­©å­ï¼Œä½ åº”è¯¥å¯ä»¥è®©é‡‡åˆ°çš„è‰è¯çš„æ€»ä»·å€¼æœ€å¤§ã€‚

> tagsï¼š01èƒŒåŒ…

**Ideasï¼š**

> ## 01èƒŒåŒ…æ¨¡æ¿é¢˜ï¼›
>
> ### äºŒç»´dpæ•°ç»„åšæ³•ï¼š
>
> 1. ç¡®å®š`dp[i][j]`å«ä¹‰ï¼šåœ¨`j`æ—¶é—´é‡Œä»`0~i`ä¸ªè‰è¯é‡‡é›†çš„æœ€å¤§ä»·å€¼
> 2. ç¡®å®šé€’æ¨å…¬å¼ï¼šå¯¹äºç¬¬`i`ä¸ªè‰è¯ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©é‡‡æˆ–è€…ä¸é‡‡ï¼Œå¯¹åº”`dp[i-1][j-time[i]]+value[i]`æˆ–è€…`dp[i-1][j]`ï¼Œé€‰æ‹©å…¶ä¸­è¾ƒå¤§å€¼åˆ™ä¸º`dp[i][j]`
> 3. åˆå§‹åŒ–`dp`æ•°ç»„ï¼šå½“`j==0`ä»`0~i`åªèƒ½é‡‡é›†åˆ°ä»·å€¼ä¸º`0`çš„è‰è¯ï¼Œå½“`i==0`ï¼ˆå³åªæœ‰ç¬¬`0`ä¸ªè‰è¯ï¼‰å½“`j>=time(0)`å¯ä»¥é‡‡åˆ°è¯¥è‰è¯ï¼ˆå³`dp[0][j]==value[0]`ï¼‰ï¼Œåä¹‹åˆ™é‡‡ä¸åˆ°ï¼ˆå³`dp[0][j]==0`ï¼‰
> 4. ç¡®å®šéå†é¡ºåºï¼šä»`i==1`è‰è¯å¼€å§‹ï¼Œå¯¹äºæ‰€æœ‰æ—¶é—´`[1,T]`ï¼Œåˆ¤æ–­ç¬¬`i`ä¸ªè‰è¯é‡‡æˆ–è€…ä¸é‡‡ï¼ŒçŸ¥é“æœ€åä¸€ä¸ªè‰è¯
> 5. ä¸¾ä¾‹æ¨å¯¼dpæ•°ç»„
>
> ## ä¸€ç»´dpæ•°ç»„ï¼š
>
> ç”¨ä¸€ç»´`dp[j]`æ•°ç»„è®°å½•`j`æ—¶é—´å†…`0~i`ä¸ªè‰è¯é‡Œèƒ½é‡‡åˆ°çš„æœ€å¤§ä»·å€¼ï¼Œæ¯å¢åŠ ä¸€ä¸ªè‰è¯åˆ™æ›´æ–°ä¸€æ¬¡dpæ•°ç»„ï¼›
>
> éå†é¡ºåºï¼šå€’åºéå†dpæ•°ç»„ï¼Œå¦‚æœ`j>=time[i]`è¡¨ç¤ºèƒ½é‡‡é›†å½“å‰è‰è¯ï¼Œéœ€è¦å–é‡‡ä¸ä¸é‡‡çš„è¾ƒå¤§å€¼ï¼Œå³`dp[j] =Math.max(dp[j],dp[j-time[i]]) `ï¼›åä¹‹åˆ™ä¸å¯èƒ½é‡‡å½“å‰çš„è‰è¯ï¼Œé‚£ä¹ˆ`dp[j] = dp[j]`
>
> å¯¹äºæ¯ä¸€æ¬¡æ›´æ–°æ•´ä¸ªæ•°ç»„ï¼šæ›´æ–°å‰`dp[j]`ä»£è¡¨`j`æ—¶é—´åœ¨`0~i-1`å†…èƒ½é‡‡åˆ°çš„æœ€å¤§ä»·å€¼ï¼Œæ›´æ–°åè¡¨ç¤ºåœ¨`j`æ—¶é—´åœ¨`0~i`å†…èƒ½é‡‡åˆ°çš„æœ€å¤§ä»·å€¼

> äºŒç»´dpæ•°ç»„ï¼š

```java
import java.util.Scanner;
public class Main {
	static int T, M;
	static int[] time,value;
    public static void main(String[] args) {
        Scanner s = new Scanner(System.in);
        T = s.nextInt();
        M = s.nextInt();
        time = new int[M];
        value = new int[M];
        for (int i = 0; i <M; i++) {
			time[i]= s.nextInt();
			value[i] =s.nextInt();
		}
        int[][] dp = new int[M][T+1];
        //åˆå§‹åŒ–dp
        for(int i =0;i<=M-1;i++) {
        	dp[i][0] = 0;
        }
        for(int i = 0;i<=T;i++) {
        	if (i>=time[0]) {
				dp[0][i] = value[0];
			}
        }
        //éå†
        for(int i = 1;i<=M-1;i++) {
        	for(int j = 1;j<=T;j++) {
        		if (j<time[i]) {
					dp[i][j] = dp[i-1][j]; 
				}else {
					dp[i][j]= Math.max(dp[i-1][j], dp[i-1][j-time[i]]+value[i]); 
				}
        	}
        }
        System.out.println(dp[M-1][T]);                
    }
}
```

> ä¸€ç»´dpæ•°ç»„

```java
import java.util.Scanner;
public class Main {
    public static void main(String[] args) {
        Scanner s = new Scanner(System.in);
        int T = s.nextInt();
        int M = s.nextInt();
        int[] value = new int[M];
        int[] time = new int[M];
        for (int i = 0; i <= M - 1; i++) {
            time[i] = s.nextInt();
            value[i] = s.nextInt();
        }
        int[] dp = new int[T + 1];
        for (int i = 0; i <= M - 1; i++) {
            for (int j = T; j >= time[i]; j--) {
                dp[j] = Math.max(dp[j], dp[j - time[i]] + value[i]);
            }
        }
        System.out.println(dp[T]);
    }
}
```

## P1049 è£…ç®±é—®é¢˜

[P1049 [NOIP2001 æ™®åŠç»„\] è£…ç®±é—®é¢˜ - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)](https://www.luogu.com.cn/problem/P1049)

æœ‰ä¸€ä¸ªç®±å­å®¹é‡ä¸º $V$ï¼ŒåŒæ—¶æœ‰ $n$ ä¸ªç‰©å“ï¼Œæ¯ä¸ªç‰©å“æœ‰ä¸€ä¸ªä½“ç§¯ã€‚


ç°åœ¨ä» $n$ ä¸ªç‰©å“ä¸­ï¼Œä»»å–è‹¥å¹²ä¸ªè£…å…¥ç®±å†…ï¼ˆä¹Ÿå¯ä»¥ä¸å–ï¼‰ï¼Œä½¿ç®±å­çš„å‰©ä½™ç©ºé—´æœ€å°ã€‚è¾“å‡ºè¿™ä¸ªæœ€å°å€¼ã€‚

```java
import java.util.Scanner;
public class Main {
	static int V,n;
	static int[] arr;
    public static void main(String[] args) {
        Scanner s = new Scanner(System.in);
        V = s.nextInt();
        n = s.nextInt();
        arr = new int[n];
        for(int i =0;i<=n-1;i++) {
        	arr[i] = s.nextInt();
        }
        long[] dp = new long[V+1];
        for (int i = 0; i <=n-1; i++) {
			for (int j = V; j>=arr[i]; j--) {
				dp[j]= Math.max(dp[j], dp[j-arr[i]]+arr[i]);
			}
		}
        System.out.println(V-dp[V]);
    }
 }
```



## P1802 5 å€ç»éªŒæ—¥

[P1802 5 å€ç»éªŒæ—¥ - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)](https://www.luogu.com.cn/problem/P1802)

 $x$ ä¸ªè¿·ä½ è£…è¯ç‰©,å‡†å¤‡å¼€å§‹ä¸é‚£äº›äººæ‰“äº†ã€‚

ç°åœ¨æœ‰ $n$ ä¸ªå¥½å‹ï¼Œç»™å®šå¤±è´¥æ—¶å¯è·å¾—çš„ç»éªŒã€èƒœåˆ©æ—¶å¯è·å¾—çš„ç»éªŒï¼Œæ‰“è´¥ä»–è‡³å°‘éœ€è¦çš„è¯é‡ã€‚

è¦æ±‚æ±‚å‡ºæœ€å¤§ç»éªŒ $s$ï¼Œè¾“å‡º $5s$ã€‚

> tagsï¼š 01èƒŒåŒ…

Ideas:

> 01èƒŒåŒ…é—®é¢˜çš„å˜å½¢ï¼›**éœ€è¦æ³¨æ„çš„æ˜¯ï¼šä¸æ‰“è¿™åå¥½å‹ä¹Ÿä¼šè·å¾—ä¸€å®šç»éªŒå€¼**
>
> 1. ç¡®å®š`dp[j]`çš„å«ä¹‰ï¼š`j`ä¸ªè¯ï¼Œåœ¨`0~i`ä¸ªå¥½å‹ä¸­èƒ½è·å¾—çš„æœ€å¤§ç»éªŒå€¼ï¼›
> 2. çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼šå½“`j<cost[i]`ä¸å¯èƒ½æ‰“è¿‡è¿™ä½å¥½å‹ï¼Œç›´æ¥è·å¾—å¤±è´¥ç»éªŒå€¼`lose[i]`ï¼Œ`dp[j] = dp[j]+lose[i]`ï¼ˆè¿™ä¸€ç‚¹å’Œç»å…¸çš„01èƒŒåŒ…é—®é¢˜ä¸åŒï¼‰ï¼›å½“`j>=cost[i]`æ—¶ï¼Œåˆ™è¦åˆ¤æ–­æ‰“è¿‡ç»éªŒå¤šè¿˜æ˜¯ä¸æ‰“ç»éªŒå¤šï¼Œ`dp[j] = Math.max(dp[j]+lose[i],dp[j-cost[i]]+win[i])`
> 3. éå†é¡ºåºï¼šå¯¹äºæ¯ä¸€ä¸ªå¥½å‹`i`å€’åºéå†`dp[j]`ï¼Œç›´åˆ°ç¬¬`x`ä¸ªå¥½å‹ 

```java
import java.util.Scanner;
public class Main {	
    public static void main(String[] args) {
        Scanner s = new Scanner(System.in);
        int N = s.nextInt();
        int x = s.nextInt();
        int[] lose = new int[N];
        int[] win = new int[N];
        int[] cost = new int [N];
        for(int i = 0;i<=N-1;i++) {
        	lose[i]= s.nextInt();
        	win[i]=s.nextInt();
        	cost[i]=s.nextInt();
        }
        long [] dp = new long [x+1];
        for(int i = 0;i<=N-1;i++) {
        	for(int j = x;j>=0;--j) {
        		if(j>=cost[i]) {
        			dp[j]=Math.max(dp[j]+lose[i], dp[j-cost[i]]+win[i]); 
        		}else {
        			dp[j]=dp[j]+lose[i]; 
        		}        		
        	}
        }
        System.out.println(dp[x]*5);
        }
    }
```

# 

## 1. é›†åˆåˆ†å‰²ä¸ºæœ€æ¥è¿‘ä¸¤å­é›†

> é—®é¢˜ï¼š å°†ä¸€ä¸ªé›†åˆåˆ†ä¸ºä¸¤ä¸ªæœ€æ¥è¿‘çš„å­é›†ã€‚
>
> è®¾é›†åˆæ€»å’Œä¸º`S`ï¼Œç”¨ä¸€ä¸ªå®¹é‡ä¸º`S/2`çš„èƒŒåŒ…å»è£…é›†åˆé‡Œçš„å…ƒç´ ï¼Œæ±‚å¾—èƒ½è£…çš„æœ€å¤§å€¼`dp[S/2]`åˆ™ä¸ºå°äº`S/2`ä¸”æœ€æ¥è¿‘`S/2`çš„å­é›†ï¼Œ`S-dp[S/2]`åˆ™ä¸ºè¾ƒå¤§è€…å­é›†ï¼›

### 416.åˆ†å‰²ç­‰å’Œå­é›†

https://leetcode.cn/problems/partition-equal-subset-sum/

ç»™ä½ ä¸€ä¸ª **åªåŒ…å«æ­£æ•´æ•°** çš„ **éç©º** æ•°ç»„ `nums` ã€‚è¯·ä½ åˆ¤æ–­æ˜¯å¦å¯ä»¥å°†è¿™ä¸ªæ•°ç»„åˆ†å‰²æˆä¸¤ä¸ªå­é›†ï¼Œä½¿å¾—ä¸¤ä¸ªå­é›†çš„å…ƒç´ å’Œç›¸ç­‰ã€‚

```java
class Solution {
    public boolean canPartition(int[] nums) {
        int sum = 0;
        for(int i =0;i<=nums.length-1;i++){
            sum+=nums[i];
        }
        if(sum%2!=0)return false;
        int target = sum/2;
        int[] dp = new int[target+1];
        for(int i =0;i<=nums.length-1;i++){
            for(int j = target;j>=nums[i];j--){
                dp[j] = Math.max(dp[j],dp[j-nums[i]]+nums[i]);           
            }
        }
        return dp[target]==target;
    }
}
```

### 1049. æœ€åä¸€å—çŸ³å¤´çš„é‡é‡ II

[1049. æœ€åä¸€å—çŸ³å¤´çš„é‡é‡ II](https://leetcode.cn/problems/last-stone-weight-ii/)

æœ‰ä¸€å †çŸ³å¤´ï¼Œç”¨æ•´æ•°æ•°ç»„ `stones` è¡¨ç¤ºã€‚å…¶ä¸­ `stones[i]` è¡¨ç¤ºç¬¬ `i` å—çŸ³å¤´çš„é‡é‡ã€‚

æ¯ä¸€å›åˆï¼Œä»ä¸­é€‰å‡º**ä»»æ„ä¸¤å—çŸ³å¤´**ï¼Œç„¶åå°†å®ƒä»¬ä¸€èµ·ç²‰ç¢ã€‚å‡è®¾çŸ³å¤´çš„é‡é‡åˆ†åˆ«ä¸º `x` å’Œ `y`ï¼Œä¸” `x <= y`ã€‚é‚£ä¹ˆç²‰ç¢çš„å¯èƒ½ç»“æœå¦‚ä¸‹ï¼š

- å¦‚æœ `x == y`ï¼Œé‚£ä¹ˆä¸¤å—çŸ³å¤´éƒ½ä¼šè¢«å®Œå…¨ç²‰ç¢ï¼›
- å¦‚æœ `x != y`ï¼Œé‚£ä¹ˆé‡é‡ä¸º `x` çš„çŸ³å¤´å°†ä¼šå®Œå…¨ç²‰ç¢ï¼Œè€Œé‡é‡ä¸º `y` çš„çŸ³å¤´æ–°é‡é‡ä¸º `y-x`ã€‚

æœ€åï¼Œ**æœ€å¤šåªä¼šå‰©ä¸‹ä¸€å—** çŸ³å¤´ã€‚è¿”å›æ­¤çŸ³å¤´ **æœ€å°çš„å¯èƒ½é‡é‡** ã€‚å¦‚æœæ²¡æœ‰çŸ³å¤´å‰©ä¸‹ï¼Œå°±è¿”å› `0`ã€‚

```java
class Solution {
    public int lastStoneWeightII(int[] stones) {
        int sum = 0;
        for(int i = 0;i<stones.length;i++){
            sum+=stones[i];
        }
        int target = sum/2;
        int[] dp = new int[target+1];
        for(int i = 0;i<=stones.length-1;i++){
            for(int j = target;j>=stones[i];j--){
                dp[j] = Math.max(dp[j],dp[j-stones[i]]+stones[i]);
            }
        }
        int res = sum-2*dp[target];
        return res;
    }
}
```

### P2392 kkksc03è€ƒå‰ä¸´æ—¶æŠ±ä½›è„š

[P2392 kkksc03è€ƒå‰ä¸´æ—¶æŠ±ä½›è„š - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)](https://www.luogu.com.cn/problem/P2392)

è¿™æ¬¡æœŸæœ«è€ƒè¯•ï¼Œkkksc03 éœ€è¦è€ƒ $4$ ç§‘ã€‚å› æ­¤è¦å¼€å§‹åˆ·ä¹ é¢˜é›†ï¼Œæ¯ç§‘éƒ½æœ‰ä¸€ä¸ªä¹ é¢˜é›†ï¼Œåˆ†åˆ«æœ‰ $s_1,s_2,s_3,s_4$ é“é¢˜ç›®ï¼Œå®Œæˆæ¯é“é¢˜ç›®éœ€è¦ä¸€äº›æ—¶é—´ï¼Œå¯èƒ½ä¸ç­‰ï¼ˆ$A_1,A_2,\ldots,A_{s_1}$ï¼Œ$B_1,B_2,\ldots,B_{s_2}$ï¼Œ$C_1,C_2,\ldots,C_{s_3}$ï¼Œ$D_1,D_2,\ldots,D_{s_4}$ï¼‰ã€‚


ä»–çš„å·¦å³ä¸¤ä¸ªå¤§è„‘å¯ä»¥åŒæ—¶è®¡ç®— $2$ é“ä¸åŒçš„é¢˜ç›®ï¼Œä½†æ˜¯ä»…é™äºåŒä¸€ç§‘ã€‚å› æ­¤ï¼Œkkksc03 å¿…é¡»ä¸€ç§‘ä¸€ç§‘çš„å¤ä¹ ã€‚

ä»–å¸Œæœ›çŸ¥é“èƒ½å¤Ÿå®Œæˆå¤ä¹ çš„æœ€çŸ­æ—¶é—´ã€‚

> å¯¹äºå¯ä»¥åŒçº¿ç¨‹å®Œæˆä»»åŠ¡ï¼Œå°†ä»»åŠ¡åˆ†ä¸ºä¸¤ä¸ªæœ€æ¥è¿‘çš„å­ä»»åŠ¡ï¼Œè¿™æ ·æ€»è€—æ—¶ä¼šæœ€çŸ­

```java
import java.util.Scanner;
public class Main {	
    public static void main(String[] args) {
        Scanner s = new Scanner(System.in);
        int[] S = new int[4];
        for(int i =0;i<=3;i++) {
        	S[i]=s.nextInt();
        }
        int min = 0;
        for (int i = 0; i <=3; i++) {
			int[] X = new int[S[i]];
			int sum = 0;
			for (int j = 0; j <=X.length-1; j++) {				
				X[j]= s.nextInt(); 
				sum+=X[j];
			}
			int target = sum/2;
        	int[] dp = new int[target+1];
        	for(int k = 0;k<=X.length-1;k++) {
        		for(int l = target;l>=X[k];l--) {
        			dp[l] = Math.max(dp[l], dp[l-X[k]]+X[k]);
        		}
        	}
        	min+=sum-dp[target];
		}
        System.out.println(min);
        }
    }
```

## 2. è£…æ»¡èƒŒåŒ…æ–¹æ¡ˆæ•°

### P1164 å°Aç‚¹èœ

[P1164 å°Aç‚¹èœ - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)](https://www.luogu.com.cn/problem/P1164)

 $M$ å…ƒ $(M \le 10000)$ã€‚

é¤é¦†æœ‰ $N$ ç§ $(N \le 100)$ï¼Œç¬¬ $i$ ç§å– $a_i$ å…ƒ $(a_i \le 1000)$ã€‚æ¯ç§èœåªæœ‰ä¸€ä»½ã€‚

åˆšå¥½æŠŠ æ‰€æœ‰é’±èŠ±å®Œã€‚æœ‰å¤šå°‘ç§ç‚¹èœæ–¹æ³•ã€‚

> 01èƒŒåŒ…

Ideasï¼š

> 1. `dp[j]`å«ä¹‰ï¼šåœ¨`0~i`é“èœä¸­ï¼ŒèŠ±å…‰`j`å…ƒæœ‰`dp[j]`ç§ç‚¹èœæ–¹å¼
>
> 2. çŠ¶æ€è½¬ç§»å…¬å¼ï¼šå¯¹äºæ¯ä¸€é“èœé€‰æ‹©ç‚¹æˆ–ä¸ç‚¹ï¼›å½“`j<price[i]`æ—¶ï¼Œä¹°ä¸èµ·ï¼Œä¸ä¹°ç¬¬`i`é“èœåˆ™`dp[j]=dp[j]`ï¼ˆå³åœ¨`0~i`å’Œ`0~i-1`é“èœä¸­èŠ±å…‰`j`å…ƒçš„æ–¹æ¡ˆéƒ½åªæœ‰`dp[j]`ç§ï¼‰ï¼›å½“`j==price[i]`æ—¶ï¼Œå¯ä»¥é€‰æ‹©ä¹°ï¼ˆæ–¹æ¡ˆ+1ï¼‰æˆ–ä¸ä¹°ï¼ˆæ–¹æ¡ˆæ•°=`dp[j]`ï¼‰,æ€»æ–¹æ¡ˆæ•°åˆ™ä¸º`dp[j]+1`;å½“`j>price[i]`æ—¶ï¼Œå¯ä»¥é€‰æ‹©ä¹°ï¼ˆæ–¹æ¡ˆæ•°=`dp[j-price[i]]`ï¼‰æˆ–ä¸ä¹°ï¼ˆæ–¹æ¡ˆæ•°=`dp[j]`ï¼‰ã€‚ä¸ºäº†åˆå¹¶åä¸¤ç§æƒ…å†µï¼Œæˆ‘ä»¬**å°†`dp[0]`åˆå§‹åŒ–ä¸º`1`**(æ²¡é’±é€‰æ‹©ä¸åƒä¹Ÿæ˜¯ä¸€ç§æ–¹æ¡ˆå˜›hh)ï¼Œåˆ™çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š
>
>    å½“`j>=price[i]`æ—¶ï¼Œ`dp[j] = dp[j]+dp[j-price[i]]`
>
>    å½“`j<price[i]`æ—¶ï¼Œ`dp[j] = dp[j]`
>
> 3. éå†é¡ºåºï¼šå’Œç»å…¸01èƒŒåŒ…ä¸€è‡´ï¼Œå¤–å±‚é¡ºåºéå†ç‰©å“ï¼Œå†…å±‚å€’åºéå†ä»·æ ¼

```java
import java.util.Scanner;
public class Main {
	static int N,M;
	static int[] arr;
    public static void main(String[] args) {
        Scanner s = new Scanner(System.in);
        N = s.nextInt();
        M = s.nextInt();
        arr = new int[N];
        for (int i = 0; i <=N-1; i++) {
			arr[i]= s.nextInt();
		}
        long[] dp = new long[M+1];
        dp[0] = 1;
        for (int i = 0; i <=N-1; i++) {
			for (int j = M; j>=arr[i] ; j--) {
				dp[j] = dp[j]+dp[j-arr[i]]; 
			}
		}
        System.out.println(dp[M]);
    }
 }
```

### P1077æ‘†èŠ±

[P1077 [NOIP2012 æ™®åŠç»„\] æ‘†èŠ± - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)](https://www.luogu.com.cn/problem/P1077)

å°æ˜çš„èŠ±åº—æ–°å¼€å¼ ï¼Œä¸ºäº†å¸å¼•é¡¾å®¢ï¼Œä»–æƒ³åœ¨èŠ±åº—çš„é—¨å£æ‘†ä¸Šä¸€æ’èŠ±ï¼Œå…± $m$ ç›†ã€‚é€šè¿‡è°ƒæŸ¥é¡¾å®¢çš„å–œå¥½ï¼Œå°æ˜åˆ—å‡ºäº†é¡¾å®¢æœ€å–œæ¬¢çš„ $n$ ç§èŠ±ï¼Œä» $1$ åˆ° $n$ æ ‡å·ã€‚ä¸ºäº†åœ¨é—¨å£å±•å‡ºæ›´å¤šç§èŠ±ï¼Œè§„å®šç¬¬ $i$ ç§èŠ±ä¸èƒ½è¶…è¿‡ $a_i$ ç›†ï¼Œæ‘†èŠ±æ—¶åŒä¸€ç§èŠ±æ”¾åœ¨ä¸€èµ·ï¼Œä¸”ä¸åŒç§ç±»çš„èŠ±éœ€æŒ‰æ ‡å·çš„ä»å°åˆ°å¤§çš„é¡ºåºä¾æ¬¡æ‘†åˆ—ã€‚

è¯•ç¼–ç¨‹è®¡ç®—ï¼Œä¸€å…±æœ‰å¤šå°‘ç§ä¸åŒçš„æ‘†èŠ±æ–¹æ¡ˆã€‚

> 01èƒŒåŒ…

Ideasï¼š

> 1. `dp[j]`å«ä¹‰ï¼šåœ¨`0~i`ç§èŠ±ä¸­é€‰`j`ç›†æœ‰`dp[j]`ç§æ–¹æ¡ˆ
> 2. çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼šå¯¹äºç¬¬$i$ç§èŠ±å¯ä»¥é€‰æ‹©æ‘†æ”¾$0-a_i$ç›†ï¼Œè®¾æ‘†æ”¾$k$ç›†ï¼ˆ$k<=min(a_i,j)$ï¼‰ï¼Œå¯¹äºæ‰€æœ‰æ–¹æ¡ˆæ±‚å’Œï¼Œ$dp[j] = dp[j-0]+dp[j-1]+...+dp[j-min(a_i,j)]$ï¼Œå³ä¸ºé€‰`j`ç›†èŠ±çš„æ–¹æ¡ˆæ•°
> 3. dpæ•°ç»„åˆå§‹åŒ–ï¼šå½“é€‰æ‹©æ‘†æ”¾$k=j$ç›†æ—¶ï¼Œç®—ä¸€ç§æ–¹æ¡ˆå¯¹åº”`dp[j-j]`å³`dp[0]`ï¼Œæ•…`dp[0]=1`
> 4. éå†é¡ºåºï¼šå’Œç»å…¸01èƒŒåŒ…ä¸€è‡´

```java
import java.util.Scanner;
public class Main {
	static int N,M;
	static int[] arr;
	static int mod = 1000007;
    public static void main(String[] args) {
        Scanner s = new Scanner(System.in);
        N = s.nextInt();
        M = s.nextInt();
        arr = new int[N];
        for (int i = 0; i <=N-1; i++) {
			arr[i]= s.nextInt();
		}
        long[] dp = new long[M+1];
        dp[0] = 1;
        for (int i = 0; i <=N-1; i++) {
			for (int j = M; j>=1 ; j--) {
				for (int k = 1; k <=Math.min(arr[i], j); k++) {//å½“å‰çš„èŠ±é€‰å‡ æœµ0~j/0~arr[i] å› ä¸ºæ˜¯+=ï¼Œk==0æ—¶å·²ç»åŠ ä¸Šï¼Œæ‰€ä»¥ä»k==1å¼€å§‹åŠ 
					dp[j]+=dp[j-k]%mod;
				}
			}
		}
        System.out.print(dp[M]%(mod));
    }
 }
```





# ä¸‰. å®Œå…¨èƒŒåŒ…

## P1616ç–¯ç‹‚çš„é‡‡è¯

[P1616 ç–¯ç‹‚çš„é‡‡è¯ - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)](https://www.luogu.com.cn/problem/P1616)

å±±æ´é‡Œæœ‰ä¸€äº›ä¸åŒç§ç±»çš„è‰è¯ï¼Œé‡‡æ¯ä¸€ç§éƒ½éœ€è¦ä¸€äº›æ—¶é—´ï¼Œæ¯ä¸€ç§ä¹Ÿæœ‰å®ƒè‡ªèº«çš„ä»·å€¼ã€‚æˆ‘ä¼šç»™ä½ ä¸€æ®µæ—¶é—´ï¼Œåœ¨è¿™æ®µæ—¶é—´é‡Œï¼Œä½ å¯ä»¥é‡‡åˆ°ä¸€äº›è‰è¯ã€‚å¦‚æœä½ æ˜¯ä¸€ä¸ªèªæ˜çš„å­©å­ï¼Œä½ åº”è¯¥å¯ä»¥è®©é‡‡åˆ°çš„è‰è¯çš„æ€»ä»·å€¼æœ€å¤§ã€‚â€

$1$. æ¯ç§è‰è¯å¯ä»¥æ— é™åˆ¶åœ°ç–¯ç‹‚é‡‡æ‘˜ã€‚

$2$. è¯çš„ç§ç±»çœ¼èŠ±ç¼­ä¹±ï¼Œé‡‡è¯æ—¶é—´å¥½é•¿å¥½é•¿å•Šï¼å¸ˆå‚…ç­‰å¾—èŠèŠ±éƒ½è°¢äº†ï¼

Ideas:

> 

```java
import java.util.Scanner;
public class Main {
	static int T,M;
	static int[] time, value;
	static long[] dp;
	public static void main(String[] args) {
        Scanner s = new Scanner(System.in);
        T = s.nextInt();
        M = s.nextInt();
        time = new int[M];
        value = new int[M];
        dp = new long[T+1];
        for(int i = 0;i<=M-1;i++) {
        	time[i] = s.nextInt(); 
        	value[i] = s.nextInt(); 
        }
        for(int i = 0;i<=M-1;i++) {
        	for(int j = time[i];j<=T;j++) {
        		dp[j] = Math.max(dp[j], dp[j-time[i]]+value[i]);
        	}
        }
        System.out.println(dp[T]);
    }
 }
```



## 1. è£…æ»¡èƒŒåŒ…æ–¹æ¡ˆæ•°

### 518. é›¶é’±å…‘æ¢ II ï¼ˆç»„åˆï¼‰

 [518. é›¶é’±å…‘æ¢ II - åŠ›æ‰£ï¼ˆLeetCodeï¼‰](https://leetcode.cn/problems/coin-change-ii/description/)

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `coins` è¡¨ç¤ºä¸åŒé¢é¢çš„ç¡¬å¸ï¼Œå¦ç»™ä¸€ä¸ªæ•´æ•° `amount` è¡¨ç¤ºæ€»é‡‘é¢ã€‚

è¯·ä½ è®¡ç®—å¹¶è¿”å›å¯ä»¥å‡‘æˆæ€»é‡‘é¢çš„ç¡¬å¸ç»„åˆæ•°ã€‚å¦‚æœä»»ä½•ç¡¬å¸ç»„åˆéƒ½æ— æ³•å‡‘å‡ºæ€»é‡‘é¢ï¼Œè¿”å› `0` ã€‚

å‡è®¾æ¯ä¸€ç§é¢é¢çš„ç¡¬å¸æœ‰æ— é™ä¸ªã€‚ 

```java
class Solution {
    public int change(int amount, int[] coins) {
        int[] dp = new int[amount + 1];
        dp[0] = 1;
        for(int i = 0;i<=coins.length-1;i++){
            for(int j = coins[i];j <= amount;j++){
                dp[j] += dp[j-coins[i]];
            }
        }
        return dp[amount];
    }
}
```

### 377.ç»„åˆæ€»å’Œ â…£(æ’åˆ—)

[377. ç»„åˆæ€»å’Œ â…£ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰](https://leetcode.cn/problems/combination-sum-iv/description/)

ç»™ä½ ä¸€ä¸ªç”± **ä¸åŒ** æ•´æ•°ç»„æˆçš„æ•°ç»„ `nums` ï¼Œå’Œä¸€ä¸ªç›®æ ‡æ•´æ•° `target` ã€‚è¯·ä½ ä» `nums` ä¸­æ‰¾å‡ºå¹¶è¿”å›æ€»å’Œä¸º `target` çš„å…ƒç´ ç»„åˆçš„ä¸ªæ•°ã€‚

é¢˜ç›®æ•°æ®ä¿è¯ç­”æ¡ˆç¬¦åˆ 32 ä½æ•´æ•°èŒƒå›´ã€‚

```java
class Solution {
    public int combinationSum4(int[] nums, int target) {
        int[] dp = new int[target+1];
        dp[0] = 1;
        for(int j = 0;j<=target;j++){
            for(int i = 0;i<=nums.length-1;i++){
                if(j>=nums[i]){
                    dp[j] += dp[j-nums[i]];
                }
            }
        }
        return dp[target];
    }
}
```

### 322. é›¶é’±å…‘æ¢

[322. é›¶é’±å…‘æ¢](https://leetcode.cn/problems/coin-change/)

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `coins` ï¼Œè¡¨ç¤ºä¸åŒé¢é¢çš„ç¡¬å¸ï¼›ä»¥åŠä¸€ä¸ªæ•´æ•° `amount` ï¼Œè¡¨ç¤ºæ€»é‡‘é¢ã€‚

è®¡ç®—å¹¶è¿”å›å¯ä»¥å‡‘æˆæ€»é‡‘é¢æ‰€éœ€çš„ **æœ€å°‘çš„ç¡¬å¸ä¸ªæ•°** ã€‚å¦‚æœæ²¡æœ‰ä»»ä½•ä¸€ç§ç¡¬å¸ç»„åˆèƒ½ç»„æˆæ€»é‡‘é¢ï¼Œè¿”å› `-1` ã€‚

ä½ å¯ä»¥è®¤ä¸ºæ¯ç§ç¡¬å¸çš„æ•°é‡æ˜¯æ— é™çš„ã€‚

```java
class Solution {
    public int coinChange(int[] coins, int amount) {
        int[] dp = new int[amount+1];
        dp[0] = 0;
        int max = Integer.MAX_VALUE;
        for(int i = 1;i<=amount;i++){
            dp[i] = max;
        }
        for(int i =0;i<=coins.length-1;i++){
            for(int j = coins[i];j<=amount;j++){
                if(dp[j-coins[i]]!=max){
                    dp[j] = Math.min(dp[j],dp[j-coins[i]]+1);
                }
            }
        }
        return dp[amount]==max ? -1 : dp[amount];
    }  
}
```

### 279.å®Œå…¨å¹³æ–¹æ•°

[279. å®Œå…¨å¹³æ–¹æ•°](https://leetcode.cn/problems/perfect-squares/)

ç»™ä½ ä¸€ä¸ªæ•´æ•° `n` ï¼Œè¿”å› *å’Œä¸º `n` çš„å®Œå…¨å¹³æ–¹æ•°çš„**æœ€å°‘æ•°é‡*** ã€‚

**å®Œå…¨å¹³æ–¹æ•°** æ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œå…¶å€¼ç­‰äºå¦ä¸€ä¸ªæ•´æ•°çš„å¹³æ–¹ï¼›æ¢å¥è¯è¯´ï¼Œå…¶å€¼ç­‰äºä¸€ä¸ªæ•´æ•°è‡ªä¹˜çš„ç§¯ã€‚ä¾‹å¦‚ï¼Œ`1`ã€`4`ã€`9` å’Œ `16` éƒ½æ˜¯å®Œå…¨å¹³æ–¹æ•°ï¼Œè€Œ `3` å’Œ `11` ä¸æ˜¯

```java
class Solution {
    public int numSquares(int n) {
        int[] dp = new int[n+1];
        int maxn = Integer.MAX_VALUE;
        for(int i = 0;i<=n;i++){
            dp[i] = maxn;
        }
        dp[0] = 0;
        for(int i = 1;i<=100;i++){
            for(int j=i*i;j<=n;j++){
                dp[j] = Math.min(dp[j],dp[j-i*i]+1);
            }
        }
        return dp[n];
    }
}
```





# å››.  ä¸åŒè·¯å¾„

## 63. ä¸åŒè·¯å¾„ II

[63. ä¸åŒè·¯å¾„ II](https://leetcode.cn/problems/unique-paths-ii/)

ä¸€ä¸ªæœºå™¨äººä½äºä¸€ä¸ª `m x n` ç½‘æ ¼çš„å·¦ä¸Šè§’ ï¼ˆèµ·å§‹ç‚¹åœ¨ä¸‹å›¾ä¸­æ ‡è®°ä¸º â€œStartâ€ ï¼‰ã€‚

æœºå™¨äººæ¯æ¬¡åªèƒ½å‘ä¸‹æˆ–è€…å‘å³ç§»åŠ¨ä¸€æ­¥ã€‚æœºå™¨äººè¯•å›¾è¾¾åˆ°ç½‘æ ¼çš„å³ä¸‹è§’ï¼ˆåœ¨ä¸‹å›¾ä¸­æ ‡è®°ä¸º â€œFinishâ€ï¼‰ã€‚

ç°åœ¨è€ƒè™‘ç½‘æ ¼ä¸­æœ‰éšœç¢ç‰©ã€‚é‚£ä¹ˆä»å·¦ä¸Šè§’åˆ°å³ä¸‹è§’å°†ä¼šæœ‰å¤šå°‘æ¡ä¸åŒçš„è·¯å¾„ï¼Ÿ

ç½‘æ ¼ä¸­çš„éšœç¢ç‰©å’Œç©ºä½ç½®åˆ†åˆ«ç”¨ `1` å’Œ `0` æ¥è¡¨ç¤ºã€‚

```java
class Solution {
    public int uniquePathsWithObstacles(int[][] obstacleGrid) {
       
        int m = obstacleGrid.length;
        int n = obstacleGrid[0].length;
         if(obstacleGrid[0][0]==1||obstacleGrid[m-1][n-1]==1)return 0;
        int[][] dp = new int[m][n];
        dp[0][0] = 1;
        for(int i=1;i<=m-1;i++){
            if(obstacleGrid[i][0]==1){
                dp[i][0] = 0;
            }else{
                dp[i][0] = dp[i-1][0];
            }
        }
        for(int i=1;i<=n-1;i++){
            if(obstacleGrid[0][i]==1){
                dp[0][i] = 0;
            }else{
                dp[0][i] = dp[0][i-1];
            }
        }
        for(int i=1;i<=m-1;i++){
            for(int j=1;j<=n-1;j++){
                if(obstacleGrid[i][j]==1){
                    dp[i][j] =0;
                }else{
                    dp[i][j] = dp[i-1][j]+dp[i][j-1];
                }
            }
        }
        return dp[m - 1][n - 1];

    }
}
```

## P1002 è¿‡æ²³å’

[P1002 [NOIP2002 æ™®åŠç»„\] è¿‡æ²³å’ - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)](https://www.luogu.com.cn/problem/P1002)

æ£‹ç›˜ä¸Š $A$ ç‚¹æœ‰ä¸€ä¸ªè¿‡æ²³å’ï¼Œéœ€è¦èµ°åˆ°ç›®æ ‡ $B$ ç‚¹ã€‚å’è¡Œèµ°çš„è§„åˆ™ï¼šå¯ä»¥å‘ä¸‹ã€æˆ–è€…å‘å³ã€‚åŒæ—¶åœ¨æ£‹ç›˜ä¸Š $C$ ç‚¹æœ‰ä¸€ä¸ªå¯¹æ–¹çš„é©¬ï¼Œè¯¥é©¬æ‰€åœ¨çš„ç‚¹å’Œæ‰€æœ‰è·³è·ƒä¸€æ­¥å¯è¾¾çš„ç‚¹ç§°ä¸ºå¯¹æ–¹é©¬çš„æ§åˆ¶ç‚¹ã€‚å› æ­¤ç§°ä¹‹ä¸ºâ€œé©¬æ‹¦è¿‡æ²³å’â€ã€‚

æ£‹ç›˜ç”¨åæ ‡è¡¨ç¤ºï¼Œ$A$ ç‚¹ $(0, 0)$ã€$B$ ç‚¹ $(n, m)$ï¼ŒåŒæ ·é©¬çš„ä½ç½®åæ ‡æ˜¯éœ€è¦ç»™å‡ºçš„ã€‚

> äºŒç»´dpæ•°ç»„

Ideasï¼š

> 1. `dp[i][j]`å«ä¹‰ï¼šåˆ°è¾¾`i`è¡Œ`j`åˆ—æœ‰`dp[i][j]`æ¡è·¯çº¿
> 2. çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼šå¯¹äºé™¤äº†ç¬¬ä¸€è¡Œå’Œç¬¬ä¸€åˆ—çš„æ¯ä¸€ä¸ªä½ç½®ï¼Œå®ƒå¯ä»¥ä»ä¸Šæ–¹æˆ–è€…å·¦æ–¹åˆ°è¾¾ï¼Œåˆ°è¾¾è¯¥ä½ç½®çš„è·¯çº¿æ•°ç­‰äºåˆ°ä¸Šæ–¹è·¯çº¿æ•°åŠ ä¸Šåˆ°å·¦æ–¹è·¯çº¿æ•°ï¼Œæ•…`dp[i][j] = dp[i-1][j]+dp[i][j-1]`
> 3. åˆå§‹åŒ–dpæ•°ç»„ï¼šç¬¬ä¸€è¡Œåªèƒ½åˆ°è¾¾ç¬¬ä¸€ä¸ªéšœç¢çš„å·¦ä¾§çš„ä½ç½®ï¼Œä¸”è·¯çº¿æ•°ä¸º1ã€‚ç¬¬ä¸€åˆ—åªèƒ½åˆ°è¾¾ç¬¬ä¸€ä¸ªéšœç¢ä¸Šæ–¹çš„ä½ç½®ä¸”è·¯çº¿ä¸º1ã€‚å…¶ä½™åœ°æ–¹åˆ™ä¸º0
> 4. éå†é¡ºåºï¼šéå†é™¤ç¬¬ä¸€è¡Œå’Œç¬¬ä¸€åˆ—ä½ç½®å³å¯ï¼Œ**éœ€è¦æ³¨æ„çš„æ˜¯æœ‰éšœç¢çš„ä½ç½®çš„åœ°æ–¹åˆ°è¾¾å…¶ä½ç½®çš„è·¯çº¿æ•°åº”è¯¥ä¸º0ï¼Œå³`dp[i][j]=0`**

```java
import java.util.Scanner;
public class Main {
	static int bi,bj,hi,hj;
	static int[][] map;
	static int[] di = {-2,-2,-1,1,2,2,1,-1};//å·¦ä¸Šè§’é¡ºæ—¶é’ˆ
	static int[] dj = {-1,1,2,2,1,-1,-2,-2};
    public static void main(String[] args) {
        Scanner s = new Scanner(System.in);
        	bi = s.nextInt();
        	bj = s.nextInt();
        	hi = s.nextInt();
        	hj = s.nextInt();
        	map = new int[bi+1][bj+1];
        	putH();//æ”¾ğŸ
        	long [][] dp = new long [bi+1][bj+1];
        	for(int i = 0;i<=bi;i++) {//åˆå§‹åŒ–dpæ•°ç»„
        		if(map[i][0]==1)break;
        		dp[i][0] = 1;
        	}
        	for (int j = 0; j <=bj; j++) {
        		if(map[0][j]==1)break;
        		dp[0][j]= 1; 
			}
        	for (int i = 1; i <=bi; i++) {
				for (int j = 1; j <=bj; j++) {
					if (map[i][j] ==1 ) continue;//å½“å‰æ˜¯ğŸçš„åœ°ç›˜è·³è¿‡
					dp[i][j]= dp[i-1][j]+dp[i][j-1]; 
				}
			}
        	System.out.println(dp[bi][bj]);
        }
	private static void putH() {
		map[hi][hj] = 1;
		for (int i = 0; i <=7; i++) {
			int x = hi+di[i];
			int y = hj+dj[i];
			if (x>=0&&y>=0&&x<=bi&&y<=bj) {
				map[hi+di[i]][hj+dj[i]] = 1;
			}
		}
	}
    }

```





















# P2196æŒ–åœ°é›·

[P2196 [NOIP1996 æé«˜ç»„\] æŒ–åœ°é›· - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)](https://www.luogu.com.cn/problem/P2196)

åœ¨ä¸€ä¸ªåœ°å›¾ä¸Šæœ‰ $N\ (N \le 20)$ ä¸ªåœ°çª–ï¼Œæ¯ä¸ªåœ°çª–ä¸­åŸ‹æœ‰ä¸€å®šæ•°é‡çš„åœ°é›·ã€‚åŒæ—¶ï¼Œç»™å‡ºåœ°çª–ä¹‹é—´çš„è¿æ¥è·¯å¾„ã€‚å½“åœ°çª–åŠå…¶è¿æ¥çš„æ•°æ®ç»™å‡ºä¹‹åï¼ŒæŸäººå¯ä»¥ä»ä»»ä¸€å¤„å¼€å§‹æŒ–åœ°é›·ï¼Œç„¶åå¯ä»¥æ²¿ç€æŒ‡å‡ºçš„è¿æ¥å¾€ä¸‹æŒ–ï¼ˆä»…èƒ½é€‰æ‹©ä¸€æ¡è·¯å¾„ï¼‰ï¼Œå½“æ— è¿æ¥æ—¶æŒ–åœ°é›·å·¥ä½œç»“æŸã€‚è®¾è®¡ä¸€ä¸ªæŒ–åœ°é›·çš„æ–¹æ¡ˆï¼Œä½¿æŸäººèƒ½æŒ–åˆ°æœ€å¤šçš„åœ°é›·ã€‚

> dfsç‰ˆï¼ˆTLEï¼‰

```java
import java.util.Arrays;
import java.util.Scanner;
public class Main {
	static int N;
	static int[][] arr;
	static int count = 0;
	static int[] nums;
	static int max = 0;
	static int[] res;
	static int[] temp;
    public static void main(String[] args) {
        Scanner s = new Scanner(System.in);
        N = s.nextInt();
        res = new int[N];
        temp = new int[N];
        nums = new int[N];
        arr = new int[N-1][N-1];
        for(int i = 0;i<=N-1;i++) {
        	nums[i]= s.nextInt(); 
        }
        for(int i = 0;i<=N-2;i++) {
        	for(int j = 0;j<=N-i-2;j++) {
					arr[i][j]= s.nextInt(); 
				}
        	}
        dfs(0, 0,0);
        for (int i = 0; i<=N-1; i++) {
        	if (res[i]!=0) {
        		System.out.print(res[i]+" ");
			}			
		}
        System.out.println();
        System.out.println(max);          
        }    
    	public static void dfs(int startIdx,int preIdx,int n) {
    		
    		if (count>=max) {
				max = count;//è®°å½•æœ€å¤§åœ°é›·æ•°
				res = Arrays.copyOf(temp, N);//è®°å½•è·¯çº¿
			}
    		for(int i =startIdx;i<=N-1;i++) {
    			if (preIdx!=startIdx && arr[preIdx][i-preIdx-1]==0) {
					continue;
				}
    			count+=nums[i];
    			temp[n] = i+1;
    			dfs(i+1,i,n+1);
    			count-=nums[i];
    			temp[n] = 0;
    		}  		
    	}
    }

```

> dpç‰ˆ

```java
import java.util.Scanner;

public class Main {
	static int N;
	static int[][] arr;
	static int[] nums;
	static int[] p;
    public static void main(String[] args) {
        Scanner s = new Scanner(System.in);
        N = s.nextInt();
        nums = new int[N+1];
        p = new int[N+1];
        arr = new int[N-1][N-1];
        int[] res = new int[N];
        for(int i = 1;i<=N;i++) {
        	nums[i]= s.nextInt(); 
        }
        for(int i = 0;i<=N-2;i++) {
        	for(int j = 0;j<=N-i-2;j++) {
					arr[i][j]= s.nextInt(); 
				}
        }
        //
        int[] dp = new int[N+1];
        dp[1] = nums[1];
        for(int i =2;i<=N;i++) {
        	int dpMax = 0;//dp[i]ä¹‹å‰çš„æœ€å¤§å€¼
        	int Index = 0;//dpmaxçš„ç´¢å¼•
        	for(int j = 1;j<=i-1;j++) {
        		if (arr[j-1][i-j-1]==1) {//åˆ¤æ–­æœ‰æ— é€šè·¯
        			if (dp[j]>dpMax) {
						dpMax = dp[j];
						Index = j;						
					}
				}       		
        	}
        	p[i]=Index; 
        	dp[i]=dpMax+nums[i]; 
        }
        int max = 0;
        int x = 0;
        for (int i = 0; i < dp.length; i++) {
			if (dp[i]>max) {
				max = dp[i];
				x = i;
			}
		}
        res[N-1]=x;
        for (int i = 0; i <N-1; i++) {
			res[N-i-2] = p[x];
			x = p[x];
        }
        for (int i = 0; i <=N-1; i++) {
        	if (res[i]!=0) {
        		System.out.print(res[i]+" ");
			}
			
		}
        System.out.println();
        System.out.println(max);
        }
    }
```

# P3842 çº¿æ®µ

[P3842 [TJOI2007\] çº¿æ®µ - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)](https://www.luogu.com.cn/problem/P3842)

åœ¨ä¸€ä¸ª $n \times n$ çš„å¹³é¢ä¸Šï¼Œåœ¨æ¯ä¸€è¡Œä¸­æœ‰ä¸€æ¡çº¿æ®µï¼Œç¬¬ $i$ è¡Œçš„çº¿æ®µçš„å·¦ç«¯ç‚¹æ˜¯$(i, L_{i})$ï¼Œå³ç«¯ç‚¹æ˜¯$(i, R_{i})$ã€‚

ä½ ä» $(1,1)$ ç‚¹å‡ºå‘ï¼Œè¦æ±‚æ²¿é€”èµ°è¿‡æ‰€æœ‰çš„çº¿æ®µï¼Œæœ€ç»ˆåˆ°è¾¾ $(n,n)$ ç‚¹ï¼Œä¸”æ‰€èµ°çš„è·¯ç¨‹é•¿åº¦è¦å°½é‡çŸ­ã€‚

æ›´å…·ä½“ä¸€äº›è¯´ï¼Œä½ åœ¨ä»»ä½•æ—¶å€™åªèƒ½é€‰æ‹©å‘ä¸‹èµ°ä¸€æ­¥ï¼ˆè¡Œæ•°å¢åŠ  $1$ï¼‰ã€å‘å·¦èµ°ä¸€æ­¥ï¼ˆåˆ—æ•°å‡å°‘ $1$ï¼‰æˆ–æ˜¯å‘å³èµ°ä¸€æ­¥ï¼ˆåˆ—æ•°å¢åŠ  $1$ï¼‰ã€‚å½“ç„¶ï¼Œç”±äºä½ ä¸èƒ½å‘ä¸Šè¡Œèµ°ï¼Œå› æ­¤åœ¨ä»ä»»ä½•ä¸€è¡Œå‘ä¸‹èµ°åˆ°å¦ä¸€è¡Œçš„æ—¶å€™ï¼Œä½ å¿…é¡»ä¿è¯å·²ç»èµ°å®Œæœ¬è¡Œçš„é‚£æ¡çº¿æ®µã€‚

> 1. `dp[i][j]`å«ä¹‰ï¼šåˆ°ç¬¬`i`è¡Œçš„çº¿æ®µçš„`j`ä½ç½®ï¼ˆ0ä»£è¡¨å·¦ï¼Œ1ä»£è¡¨å³ï¼‰çš„æœ€çŸ­è·¯å¾„
>
>    <img src="C:\Users\LXH15\AppData\Roaming\Typora\typora-user-images\image-20240208203017773.png" alt="image-20240208203017773" style="zoom: 33%;" />
>
> 2. çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š
>
> <img src="C:\Users\LXH15\AppData\Roaming\Typora\typora-user-images\image-20240208203037080.png" alt="image-20240208203037080" style="zoom: 33%;" />
>
> â€‹		å·¦åˆ°å·¦ï¼š$d_1 = L_i+|r[i]-l[i-1]|+1$
>
> â€‹		å³åˆ°å·¦ï¼š$d_2 = L_i+|r[i]-r[i-1]|+1$ 
>
> â€‹		å·¦åˆ°å³ï¼š$d_3 = L_i+|l[i]-l[i-1]|+1$
>
> â€‹		å³åˆ°å³ï¼š$d_4 = L_i+|l[i]-r[i-1]|+1$ 
>
> â€‹		$dp[i][0] = min(d_1,d_2)$
>
> â€‹		$dp[i][1] = min(d_3,d_4)$	

```java
import java.util.Scanner;
public class Main {
	static int N;
	static int[] l,r;
	static long [][] dp;
	public static void main(String[] args) {
        Scanner s = new Scanner(System.in);
        N = s.nextInt();
        l = new int[N+1];
        r = new int [N+1];
        dp = new long [N+1][2];
        for (int i = 1; i <=N; i++) {
			l[i] = s.nextInt();
			r[i] = s.nextInt();
		}
        //åˆå§‹åŒ–ç¬¬ä¸€æ ¹çº¿æ®µ
        dp[1][0] = r[1] - 1+r[1] -l[1];
        dp[1][1] = r[1]-1;
        for(int i =2;i<=N;i++) {
        	long Li = (r[i]-l[i]);
        	long ll = dp[i-1][0]+Li+Math.abs(r[i] -l[i-1])+1;
        	long rl = dp[i-1][1]+Li+Math.abs(r[i]-r[i-1])+1;
        	dp[i][0] = Math.min(ll, rl);
        	long lr = dp[i-1][0]+Li+Math.abs(l[i]-l[i-1])+1;
        	long rr = dp[i-1][1]+Li+Math.abs(l[i]-r[i-1])+1;
        	dp[i][1] = Math.min(lr, rr);
        }
        System.out.println(Math.min(dp[N][0]+N-l[N],dp[N][1]+N-r[N]));
    }
 }
```

# P1115æœ€å¤§å­æ®µå’Œ(æ¨¡æ¿é¢˜)

[P1115 æœ€å¤§å­æ®µå’Œ - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)](https://www.luogu.com.cn/problem/P1115)

ç»™å‡ºä¸€ä¸ªé•¿åº¦ä¸º $n$ çš„åºåˆ— $a$ï¼Œé€‰å‡ºå…¶ä¸­è¿ç»­ä¸”éç©ºçš„ä¸€æ®µä½¿å¾—è¿™æ®µå’Œæœ€å¤§ã€‚

```java
import java.util.Scanner;
public class Main {
	public static void main(String[] args) {
        Scanner s = new Scanner(System.in);
        int N = s.nextInt();
        int[] arr = new int[N];
        for (int i = 0; i <=N-1; i++) {
			arr[i] = s.nextInt();
		}
        long[] dp = new long[N];
        dp[0] = arr[0];
        long res = dp[0];
        for (int i = 1; i <=N-1; i++) {
			dp[i] = Math.max(dp[i-1]+arr[i],arr[i]);//å¯¹äºå½“å‰å…ƒç´ åŠ å…¥æˆ–è€…é‡æ–°è®¡æ•°
			res = Math.max(res, dp[i]);
        }
        System.out.println(res);      
    }
 }
```

