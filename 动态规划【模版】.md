# ä¸€. åŠ¨æ€è§„åˆ’å…¥é—¨

## 509. æ–æ³¢é‚£å¥‘æ•°

[509. æ–æ³¢é‚£å¥‘æ•°](https://leetcode.cn/problems/fibonacci-number/)

**æ–æ³¢é‚£å¥‘æ•°** ï¼ˆé€šå¸¸ç”¨ `F(n)` è¡¨ç¤ºï¼‰å½¢æˆçš„åºåˆ—ç§°ä¸º **æ–æ³¢é‚£å¥‘æ•°åˆ—** ã€‚è¯¥æ•°åˆ—ç”± `0` å’Œ `1` å¼€å§‹ï¼Œåé¢çš„æ¯ä¸€é¡¹æ•°å­—éƒ½æ˜¯å‰é¢ä¸¤é¡¹æ•°å­—çš„å’Œã€‚ä¹Ÿå°±æ˜¯ï¼š

```
F(0) = 0ï¼ŒF(1) = 1
F(n) = F(n - 1) + F(n - 2)ï¼Œå…¶ä¸­ n > 1
```

ç»™å®š `n` ï¼Œè¯·è®¡ç®— `F(n)` ã€‚

```java
class Solution {
    public int fib(int n) {
        if (n == 0)
            return 0;
        if (n == 1)
            return 1;
        int[] dp = new int[n + 1];
        dp[0] = 0;
        dp[1] = 1;
        for (int i = 2; i <= n; i++) {
            dp[i] = dp[i - 1] + dp[i - 2];
        }
        return dp[n];
    }
}
```

## 70. çˆ¬æ¥¼æ¢¯

[70. çˆ¬æ¥¼æ¢¯](https://leetcode.cn/problems/climbing-stairs/)

å‡è®¾ä½ æ­£åœ¨çˆ¬æ¥¼æ¢¯ã€‚éœ€è¦ `n` é˜¶ä½ æ‰èƒ½åˆ°è¾¾æ¥¼é¡¶ã€‚

æ¯æ¬¡ä½ å¯ä»¥çˆ¬ `1` æˆ– `2` ä¸ªå°é˜¶ã€‚ä½ æœ‰å¤šå°‘ç§ä¸åŒçš„æ–¹æ³•å¯ä»¥çˆ¬åˆ°æ¥¼é¡¶å‘¢ï¼Ÿ

```java
class Solution {
    public int climbStairs(int n) {
        if (n == 1) return 1;
        int[] dp = new int[n + 1];
        dp[0] = 1;
        dp[1] = 1;
        for (int i = 2; i <= n; i++) {
            dp[i] = dp[i - 1] + dp[i - 2];
        }
        return dp[n];
    }
}
```

## 746. ä½¿ç”¨æœ€å°èŠ±è´¹çˆ¬æ¥¼æ¢¯

[746. ä½¿ç”¨æœ€å°èŠ±è´¹çˆ¬æ¥¼æ¢¯](https://leetcode.cn/problems/min-cost-climbing-stairs/)

ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ `cost` ï¼Œå…¶ä¸­ `cost[i]` æ˜¯ä»æ¥¼æ¢¯ç¬¬ `i` ä¸ªå°é˜¶å‘ä¸Šçˆ¬éœ€è¦æ”¯ä»˜çš„è´¹ç”¨ã€‚ä¸€æ—¦ä½ æ”¯ä»˜æ­¤è´¹ç”¨ï¼Œå³å¯é€‰æ‹©å‘ä¸Šçˆ¬ä¸€ä¸ªæˆ–è€…ä¸¤ä¸ªå°é˜¶ã€‚

ä½ å¯ä»¥é€‰æ‹©ä»ä¸‹æ ‡ä¸º `0` æˆ–ä¸‹æ ‡ä¸º `1` çš„å°é˜¶å¼€å§‹çˆ¬æ¥¼æ¢¯ã€‚

è¯·ä½ è®¡ç®—å¹¶è¿”å›è¾¾åˆ°æ¥¼æ¢¯é¡¶éƒ¨çš„æœ€ä½èŠ±è´¹ã€‚

> `dp[i]` ä»£è¡¨åˆ°ç¬¬`i`ä¸ªæ¥¼æ¢¯æœ€å°èŠ±è´¹
>
> åˆå§‹åŒ–`dp[2]`ä¸º`cost[0],cost[1]`çš„è¾ƒå°å€¼

```java
class Solution {
    public int minCostClimbingStairs(int[] cost) {
        int[] dp = new int[cost.length + 1];
        dp[2] = Math.min(cost[0], cost[1]);
        for (int i = 3; i <= dp.length - 1; i++) {
            dp[i] = Math.min(dp[i - 1] + cost[i - 1], dp[i - 2] + cost[i - 2]);
        }
        return dp[dp.length - 1];
    }
}
```



## P1216 æ•°å­—ä¸‰è§’å½¢ Number Triangles

[P1216 [USACO1.5\] [IOI1994]æ•°å­—ä¸‰è§’å½¢ Number Triangles - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)](https://www.luogu.com.cn/problem/P1216)

è§‚å¯Ÿä¸‹é¢çš„æ•°å­—é‡‘å­—å¡”ã€‚


å†™ä¸€ä¸ªç¨‹åºæ¥æŸ¥æ‰¾ä»æœ€é«˜ç‚¹åˆ°åº•éƒ¨ä»»æ„å¤„ç»“æŸçš„è·¯å¾„ï¼Œä½¿è·¯å¾„ç»è¿‡æ•°å­—çš„å’Œæœ€å¤§ã€‚æ¯ä¸€æ­¥å¯ä»¥èµ°åˆ°å·¦ä¸‹æ–¹çš„ç‚¹ä¹Ÿå¯ä»¥åˆ°è¾¾å³ä¸‹æ–¹çš„ç‚¹ã€‚

![](https://cdn.luogu.com.cn/upload/image_hosting/95pzs0ne.png)

åœ¨ä¸Šé¢çš„æ ·ä¾‹ä¸­ï¼Œä» $7 \to 3 \to 8 \to 7 \to 5$ çš„è·¯å¾„äº§ç”Ÿäº†æœ€å¤§æƒå€¼ã€‚

> tags: dp

Ideasï¼š

> ä»ä¸‹å¾€ä¸Šèµ°ï¼Œ$dp[j] = Max(dp[j], dp[j+1]+a[i][j])$

```java
import java.io.*;
import java.util.*;
public class Main {
    static Scanner s = new Scanner(System.in);
    static Read r = new Read();
    static int inf = (int) 1e9;
    static int N, dp[], a[][];
    public static void main(String[] args) throws IOException {
    	N = r.nextInt();
    	dp = new int[N + 2];
    	a = new int[N + 1][N + 1];
    	for(int i = 1; i<=N; i ++)
    		for(int j = 1; j<=i; j ++)
    			a[N - i + 1][j] = r.nextInt();
    	for(int i = 1; i<=N; i++)
    		for(int j = 1; j<= N - i + 1; j++) 
    			dp[j] = Math.max(dp[j], dp[j + 1]) + a[i][j];
    	System.out.print(dp[1]);
    }
}
class Read{
	StreamTokenizer st = new StreamTokenizer(new BufferedReader(new InputStreamReader(System.in)));
	public int nextInt() throws IOException {
		st.nextToken();
		return (int)st.nval;
	}
}
```

# äºŒ. 01èƒŒåŒ…

<img src="images/image-01bag.png" alt="image-20240206170315245" style="zoom:50%;" />

é“¾æ¥ï¼šhttps://ac.nowcoder.com/acm/problem/226516

ä½ æœ‰ä¸€ä¸ªèƒŒåŒ…ï¼Œæœ€å¤šèƒ½å®¹çº³çš„ä½“ç§¯æ˜¯Vã€‚ 

ç°åœ¨æœ‰nç§ç‰©å“ï¼Œæ¯ç§ç‰©å“æœ‰ä»»æ„å¤šä¸ªï¼Œç¬¬iç§ç‰©å“çš„ä½“ç§¯ä¸º$v_i$ ,ä»·å€¼ä¸º$w_i$ã€‚ 

ï¼ˆ1ï¼‰æ±‚è¿™ä¸ªèƒŒåŒ…è‡³å¤šèƒ½è£…å¤šå¤§ä»·å€¼çš„ç‰©å“ï¼Ÿ 

ï¼ˆ2ï¼‰è‹¥èƒŒåŒ…æ°å¥½è£…æ»¡ï¼Œæ±‚è‡³å¤šèƒ½è£…å¤šå¤§ä»·å€¼çš„ç‰©å“ï¼Ÿ

>    ç¬¬äºŒé—®ï¼š
>
>    â€‹	åˆå§‹åŒ–ï¼š$dp[0][1 \sim n] =-inf$  ç‰©å“ä¸º0æ—¶ï¼Œæ‰€æœ‰å®¹é‡å¤§äº0çš„èƒŒåŒ…è£…ä¸æ»¡ã€‚å³è¯¥çŠ¶æ€ä¸åˆæ³•ã€‚
>
>    â€‹	$dp[i][j] = max(dp[i-1][j],dp[i-1][j-v[i]]+w[i])$
>
>    â€‹	ä¸€ç»´ï¼š
>
>    â€‹	$dp[1 \sim n] = -inf$
>
>    â€‹	$dp[j] = max(dp[j],dp[j-v[i]]+w[i])$

```java
import java.util.*;
public class Main {
    static Scanner s = new Scanner(System.in);
    static int N, V, v[], w[], inf = (int)1e9;
    static long dp1[], dp2[];
    public static void main(String[] args) {
    	N = s.nextInt();
    	V = s.nextInt();
    	dp1 = new long[V + 1];
    	dp2 = new long[V + 1];
    	v = new int[N + 1];
    	w = new int[N + 1];
    	for(int i = 1; i<=N; i++) {
    		v[i] = s.nextInt();
    		w[i] = s.nextInt();
    	}
    	for(int i = 1; i<=V; i++) dp2[i] = -inf;//åˆå§‹åŒ–ä¸åˆæ³•çŠ¶æ€
    	for(int i = 1; i<=N; i++) {
    		for(int j = V; j>=v[i]; j--) {
    			dp1[j] = Math.max(dp1[j], dp1[j - v[i]]+w[i]);
    			dp2[j] = Math.max(dp2[j], dp2[j - v[i]]+w[i]);
    		}
    	}
    	System.out.print(dp1[V] + "\n" + (dp2[V]<0? 0:dp2[V]));
    }
}
```



## P1048 ã€æ¨¡ç‰ˆã€‘é‡‡è¯

[P1048 [NOIP2005 æ™®åŠç»„\] é‡‡è¯ - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)](https://www.luogu.com.cn/problem/P1048)

å±±æ´é‡Œæœ‰ä¸€äº›ä¸åŒçš„è‰è¯ï¼Œé‡‡æ¯ä¸€æ ªéƒ½éœ€è¦ä¸€äº›æ—¶é—´ï¼Œæ¯ä¸€æ ªä¹Ÿæœ‰å®ƒè‡ªèº«çš„ä»·å€¼ã€‚ä½ ä¸€æ®µæ—¶é—´ï¼Œåœ¨è¿™æ®µæ—¶é—´é‡Œï¼Œä½ å¯ä»¥é‡‡åˆ°ä¸€äº›è‰è¯ã€‚å¦‚æœä½ æ˜¯ä¸€ä¸ªèªæ˜çš„å­©å­ï¼Œä½ åº”è¯¥å¯ä»¥è®©é‡‡åˆ°çš„è‰è¯çš„æ€»ä»·å€¼æœ€å¤§ã€‚

> tagsï¼š01èƒŒåŒ…

**Ideasï¼š**

> ## 01èƒŒåŒ…æ¨¡æ¿é¢˜ï¼›
>
> ### äºŒç»´dpæ•°ç»„ï¼š
>
> 1. ç¡®å®š`dp[i][j]`å«ä¹‰ï¼šåœ¨`j`æ—¶é—´é‡Œä»`0~i`ä¸ªè‰è¯é‡‡é›†çš„æœ€å¤§ä»·å€¼
> 2. ç¡®å®šé€’æ¨å…¬å¼ï¼šå¯¹äºç¬¬`i`ä¸ªè‰è¯ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©é‡‡æˆ–è€…ä¸é‡‡ï¼Œå¯¹åº”`dp[i-1][j-time[i]]+value[i]`æˆ–è€…`dp[i-1][j]`ï¼Œé€‰æ‹©å…¶ä¸­è¾ƒå¤§å€¼åˆ™ä¸º`dp[i][j]`
> 3. åˆå§‹åŒ–`dp`æ•°ç»„ï¼šå½“`j==0`ä»`0~i`åªèƒ½é‡‡é›†åˆ°ä»·å€¼ä¸º`0`çš„è‰è¯ï¼Œå½“`i==0`ï¼ˆå³åªæœ‰ç¬¬`0`ä¸ªè‰è¯ï¼‰å½“`j>=time(0)`å¯ä»¥é‡‡åˆ°è¯¥è‰è¯ï¼ˆå³`dp[0][j]==value[0]`ï¼‰ï¼Œåä¹‹åˆ™é‡‡ä¸åˆ°ï¼ˆå³`dp[0][j]==0`ï¼‰
> 4. ç¡®å®šéå†é¡ºåºï¼šä»`i==1`è‰è¯å¼€å§‹ï¼Œå¯¹äºæ‰€æœ‰æ—¶é—´`[1,T]`ï¼Œåˆ¤æ–­ç¬¬`i`ä¸ªè‰è¯é‡‡æˆ–è€…ä¸é‡‡ï¼ŒçŸ¥é“æœ€åä¸€ä¸ªè‰è¯
> 5. ä¸¾ä¾‹æ¨å¯¼dpæ•°ç»„
>
> ## ä¸€ç»´dpæ•°ç»„ï¼š
>
> ç”¨ä¸€ç»´`dp[j]`æ•°ç»„è®°å½•`j`æ—¶é—´å†…`0~i`ä¸ªè‰è¯é‡Œèƒ½é‡‡åˆ°çš„æœ€å¤§ä»·å€¼ï¼Œæ¯å¢åŠ ä¸€ä¸ªè‰è¯åˆ™æ›´æ–°ä¸€æ¬¡dpæ•°ç»„ï¼›
>
> éå†é¡ºåºï¼šå€’åºéå†dpæ•°ç»„ï¼Œå¦‚æœ`j>=time[i]`è¡¨ç¤ºèƒ½é‡‡é›†å½“å‰è‰è¯ï¼Œéœ€è¦å–é‡‡ä¸ä¸é‡‡çš„è¾ƒå¤§å€¼ï¼Œå³`dp[j] =Math.max(dp[j],dp[j-time[i]]) `ï¼›åä¹‹åˆ™ä¸å¯èƒ½é‡‡å½“å‰çš„è‰è¯ï¼Œé‚£ä¹ˆ`dp[j] = dp[j]`
>
> å¯¹äºæ¯ä¸€æ¬¡æ›´æ–°æ•´ä¸ªæ•°ç»„ï¼šæ›´æ–°å‰`dp[j]`ä»£è¡¨`j`æ—¶é—´åœ¨`0~i-1`å†…èƒ½é‡‡åˆ°çš„æœ€å¤§ä»·å€¼ï¼Œæ›´æ–°åè¡¨ç¤ºåœ¨`j`æ—¶é—´åœ¨`0~i`å†…èƒ½é‡‡åˆ°çš„æœ€å¤§ä»·å€¼

> äºŒç»´dpæ•°ç»„ï¼š

```java
import java.util.Scanner;
public class Main {
	static int T, M;
	static int[] time,value;
    public static void main(String[] args) {
        Scanner s = new Scanner(System.in);
        T = s.nextInt();
        M = s.nextInt();
        time = new int[M];
        value = new int[M];
        for (int i = 0; i <M; i++) {
			time[i]= s.nextInt();
			value[i] =s.nextInt();
		}
        int[][] dp = new int[M][T+1];
        //åˆå§‹åŒ–dp
        for(int i =0;i<=M-1;i++) {
        	dp[i][0] = 0;
        }
        for(int i = 0;i<=T;i++) {
        	if (i>=time[0]) {
				dp[0][i] = value[0];
			}
        }
        //éå†
        for(int i = 1;i<=M-1;i++) {
        	for(int j = 1;j<=T;j++) {
        		if (j<time[i]) {
					dp[i][j] = dp[i-1][j]; 
				}else {
					dp[i][j]= Math.max(dp[i-1][j], dp[i-1][j-time[i]]+value[i]); 
				}
        	}
        }
        System.out.println(dp[M-1][T]);                
    }
}
```

> ä¸€ç»´dpæ•°ç»„

```java
import java.util.Scanner;
public class Main {
    public static void main(String[] args) {
        Scanner s = new Scanner(System.in);
        int T = s.nextInt();
        int M = s.nextInt();
        int[] value = new int[M];
        int[] time = new int[M];
        for (int i = 0; i <= M - 1; i++) {
            time[i] = s.nextInt();
            value[i] = s.nextInt();
        }
        int[] dp = new int[T + 1];
        for (int i = 0; i <= M - 1; i++) {
            for (int j = T; j >= time[i]; j--) {
                dp[j] = Math.max(dp[j], dp[j - time[i]] + value[i]);
            }
        }
        System.out.println(dp[T]);
    }
}
```



# 





# ä¸‰. å®Œå…¨èƒŒåŒ…

é“¾æ¥ï¼šhttps://ac.nowcoder.com/acm/problem/226516

ä½ æœ‰ä¸€ä¸ªèƒŒåŒ…ï¼Œæœ€å¤šèƒ½å®¹çº³çš„ä½“ç§¯æ˜¯Vã€‚ 

ç°åœ¨æœ‰nç§ç‰©å“ï¼Œæ¯ç§ç‰©å“æœ‰ä»»æ„å¤šä¸ªï¼Œç¬¬iç§ç‰©å“çš„ä½“ç§¯ä¸º$v_i$ ,ä»·å€¼ä¸º$w_i$ã€‚ 

ï¼ˆ1ï¼‰æ±‚è¿™ä¸ªèƒŒåŒ…è‡³å¤šèƒ½è£…å¤šå¤§ä»·å€¼çš„ç‰©å“ï¼Ÿ 

>    å¯¹äºå½“å‰ç¬¬$i$ä¸ªç‰©å“ä¸é€‰æˆ–è€…é€‰å¤šä¸ª
>
>    ä¸é€‰ï¼šåœ¨$0\sim i-1$ä¸ªç‰©å“ä¸­$j$å®¹é‡èƒ½è£…çš„æœ€å¤§ä»·å€¼
>
>    é€‰ï¼šåœ¨$0 \sim i$ä¸ªç‰©å“ä¸­$j - v[i]$å®¹é‡èƒ½è£…çš„æœ€å¤§ä»·å€¼ + $w[i]$
>
>    äºŒç»´dpæ•°ç»„ï¼š
>
>    â€‹	$dp[i][j] = max(dp[i -1][j],dp[i][j-v[i]]+w[i])$
>
>    ä¸€ç»´dpæ•°ç»„ï¼š
>
>    â€‹	$dp[j] = max(dp[j] ,dp[j-v[i]]+w[i])$
>
>    $O(n^2)$

ï¼ˆ2ï¼‰è‹¥èƒŒåŒ…æ°å¥½è£…æ»¡ï¼Œæ±‚è‡³å¤šèƒ½è£…å¤šå¤§ä»·å€¼çš„ç‰©å“ï¼Ÿ

---

>    åˆå§‹åŒ–$dp[1\sim n] = -inf$

```java
import java.util.*;
public class Main {
    static Scanner s = new Scanner(System.in);
    static int N, V, v[], w[], inf = (int)1e9;
    static long dp1[], dp2[];
    public static void main(String[] args) {
    	N = s.nextInt();
    	V = s.nextInt();
    	dp1 = new long[V + 1];
    	dp2 = new long[V + 1];
    	v = new int[N + 1];
    	w = new int[N + 1];
    	for(int i = 1; i<=N; i++) {
    		v[i] = s.nextInt();
    		w[i] = s.nextInt();
    	}
    	for(int i = 1; i<=V; i++) dp2[i] = -inf;
    	
    	for(int i = 1; i<=N; i++) {
    		for(int j = v[i]; j<=V; j++) {
    			dp1[j] = Math.max(dp1[j], dp1[j - v[i]]+w[i]);
    			dp2[j] = Math.max(dp2[j], dp2[j - v[i]]+w[i]);
    		}
    	}
    	System.out.print(dp1[V] + "\n" + (dp2[V]<0? 0:dp2[V]));
    }
}
```



## P1616ã€æ¨¡ç‰ˆã€‘ç–¯ç‹‚çš„é‡‡è¯

[P1616 ç–¯ç‹‚çš„é‡‡è¯ - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)](https://www.luogu.com.cn/problem/P1616)

å±±æ´é‡Œæœ‰ä¸€äº›ä¸åŒç§ç±»çš„è‰è¯ï¼Œé‡‡æ¯ä¸€ç§éƒ½éœ€è¦ä¸€äº›æ—¶é—´ï¼Œæ¯ä¸€ç§ä¹Ÿæœ‰å®ƒè‡ªèº«çš„ä»·å€¼ã€‚æˆ‘ä¼šç»™ä½ ä¸€æ®µæ—¶é—´ï¼Œåœ¨è¿™æ®µæ—¶é—´é‡Œï¼Œä½ å¯ä»¥é‡‡åˆ°ä¸€äº›è‰è¯ã€‚å¦‚æœä½ æ˜¯ä¸€ä¸ªèªæ˜çš„å­©å­ï¼Œä½ åº”è¯¥å¯ä»¥è®©é‡‡åˆ°çš„è‰è¯çš„æ€»ä»·å€¼æœ€å¤§ã€‚â€

$1$. æ¯ç§è‰è¯å¯ä»¥æ— é™åˆ¶åœ°ç–¯ç‹‚é‡‡æ‘˜ã€‚

$2$. è¯çš„ç§ç±»çœ¼èŠ±ç¼­ä¹±ï¼Œé‡‡è¯æ—¶é—´å¥½é•¿å¥½é•¿å•Šï¼å¸ˆå‚…ç­‰å¾—èŠèŠ±éƒ½è°¢äº†ï¼

```java
import java.util.Scanner;
public class Main {
	static int T,M;
	static int[] time, value;
	static long[] dp;
	public static void main(String[] args) {
        Scanner s = new Scanner(System.in);
        T = s.nextInt();
        M = s.nextInt();
        time = new int[M];
        value = new int[M];
        dp = new long[T+1];
        for(int i = 0;i<=M-1;i++) {
        	time[i] = s.nextInt(); 
        	value[i] = s.nextInt(); 
        }
        for(int i = 0;i<=M-1;i++) {
        	for(int j = time[i];j<=T;j++) {
        		dp[j] = Math.max(dp[j], dp[j-time[i]]+value[i]);
        	}
        }
        System.out.println(dp[T]);
    }
 }
```







# å››.  ä¸åŒè·¯å¾„

## 63. ä¸åŒè·¯å¾„ II

[63. ä¸åŒè·¯å¾„ II](https://leetcode.cn/problems/unique-paths-ii/)

ä¸€ä¸ªæœºå™¨äººä½äºä¸€ä¸ª `m x n` ç½‘æ ¼çš„å·¦ä¸Šè§’ ï¼ˆèµ·å§‹ç‚¹åœ¨ä¸‹å›¾ä¸­æ ‡è®°ä¸º â€œStartâ€ ï¼‰ã€‚

æœºå™¨äººæ¯æ¬¡åªèƒ½å‘ä¸‹æˆ–è€…å‘å³ç§»åŠ¨ä¸€æ­¥ã€‚æœºå™¨äººè¯•å›¾è¾¾åˆ°ç½‘æ ¼çš„å³ä¸‹è§’ï¼ˆåœ¨ä¸‹å›¾ä¸­æ ‡è®°ä¸º â€œFinishâ€ï¼‰ã€‚

ç°åœ¨è€ƒè™‘ç½‘æ ¼ä¸­æœ‰éšœç¢ç‰©ã€‚é‚£ä¹ˆä»å·¦ä¸Šè§’åˆ°å³ä¸‹è§’å°†ä¼šæœ‰å¤šå°‘æ¡ä¸åŒçš„è·¯å¾„ï¼Ÿ

ç½‘æ ¼ä¸­çš„éšœç¢ç‰©å’Œç©ºä½ç½®åˆ†åˆ«ç”¨ `1` å’Œ `0` æ¥è¡¨ç¤ºã€‚

```java
class Solution {
    public int uniquePathsWithObstacles(int[][] obstacleGrid) {
      
        int m = obstacleGrid.length;
        int n = obstacleGrid[0].length;
         if(obstacleGrid[0][0]==1||obstacleGrid[m-1][n-1]==1)return 0;
        int[][] dp = new int[m][n];
        dp[0][0] = 1;
        for(int i=1;i<=m-1;i++){
            if(obstacleGrid[i][0]==1){
                dp[i][0] = 0;
            }else{
                dp[i][0] = dp[i-1][0];
            }
        }
        for(int i=1;i<=n-1;i++){
            if(obstacleGrid[0][i]==1){
                dp[0][i] = 0;
            }else{
                dp[0][i] = dp[0][i-1];
            }
        }
        for(int i=1;i<=m-1;i++){
            for(int j=1;j<=n-1;j++){
                if(obstacleGrid[i][j]==1){
                    dp[i][j] =0;
                }else{
                    dp[i][j] = dp[i-1][j]+dp[i][j-1];
                }
            }
        }
        return dp[m - 1][n - 1];

    }
}
```

## P1002 è¿‡æ²³å’

[P1002 [NOIP2002 æ™®åŠç»„\] è¿‡æ²³å’ - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)](https://www.luogu.com.cn/problem/P1002)

æ£‹ç›˜ä¸Š $A$ ç‚¹æœ‰ä¸€ä¸ªè¿‡æ²³å’ï¼Œéœ€è¦èµ°åˆ°ç›®æ ‡ $B$ ç‚¹ã€‚å’è¡Œèµ°çš„è§„åˆ™ï¼šå¯ä»¥å‘ä¸‹ã€æˆ–è€…å‘å³ã€‚åŒæ—¶åœ¨æ£‹ç›˜ä¸Š $C$ ç‚¹æœ‰ä¸€ä¸ªå¯¹æ–¹çš„é©¬ï¼Œè¯¥é©¬æ‰€åœ¨çš„ç‚¹å’Œæ‰€æœ‰è·³è·ƒä¸€æ­¥å¯è¾¾çš„ç‚¹ç§°ä¸ºå¯¹æ–¹é©¬çš„æ§åˆ¶ç‚¹ã€‚å› æ­¤ç§°ä¹‹ä¸ºâ€œé©¬æ‹¦è¿‡æ²³å’â€ã€‚

æ£‹ç›˜ç”¨åæ ‡è¡¨ç¤ºï¼Œ$A$ ç‚¹ $(0, 0)$ã€$B$ ç‚¹ $(n, m)$ï¼ŒåŒæ ·é©¬çš„ä½ç½®åæ ‡æ˜¯éœ€è¦ç»™å‡ºçš„ã€‚

> äºŒç»´dpæ•°ç»„

Ideasï¼š

> 1. `dp[i][j]`å«ä¹‰ï¼šåˆ°è¾¾`i`è¡Œ`j`åˆ—æœ‰`dp[i][j]`æ¡è·¯çº¿
> 2. çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼šå¯¹äºé™¤äº†ç¬¬ä¸€è¡Œå’Œç¬¬ä¸€åˆ—çš„æ¯ä¸€ä¸ªä½ç½®ï¼Œå®ƒå¯ä»¥ä»ä¸Šæ–¹æˆ–è€…å·¦æ–¹åˆ°è¾¾ï¼Œåˆ°è¾¾è¯¥ä½ç½®çš„è·¯çº¿æ•°ç­‰äºåˆ°ä¸Šæ–¹è·¯çº¿æ•°åŠ ä¸Šåˆ°å·¦æ–¹è·¯çº¿æ•°ï¼Œæ•…`dp[i][j] = dp[i-1][j]+dp[i][j-1]`
> 3. åˆå§‹åŒ–dpæ•°ç»„ï¼šç¬¬ä¸€è¡Œåªèƒ½åˆ°è¾¾ç¬¬ä¸€ä¸ªéšœç¢çš„å·¦ä¾§çš„ä½ç½®ï¼Œä¸”è·¯çº¿æ•°ä¸º1ã€‚ç¬¬ä¸€åˆ—åªèƒ½åˆ°è¾¾ç¬¬ä¸€ä¸ªéšœç¢ä¸Šæ–¹çš„ä½ç½®ä¸”è·¯çº¿ä¸º1ã€‚å…¶ä½™åœ°æ–¹åˆ™ä¸º0
> 4. éå†é¡ºåºï¼šéå†é™¤ç¬¬ä¸€è¡Œå’Œç¬¬ä¸€åˆ—ä½ç½®å³å¯ï¼Œ**éœ€è¦æ³¨æ„çš„æ˜¯æœ‰éšœç¢çš„ä½ç½®çš„åœ°æ–¹åˆ°è¾¾å…¶ä½ç½®çš„è·¯çº¿æ•°åº”è¯¥ä¸º0ï¼Œå³`dp[i][j]=0`**

```java
import java.util.Scanner;
public class Main {
	static int bi,bj,hi,hj;
	static int[][] map;
	static int[] di = {-2,-2,-1,1,2,2,1,-1};//å·¦ä¸Šè§’é¡ºæ—¶é’ˆ
	static int[] dj = {-1,1,2,2,1,-1,-2,-2};
    public static void main(String[] args) {
        Scanner s = new Scanner(System.in);
        	bi = s.nextInt();
        	bj = s.nextInt();
        	hi = s.nextInt();
        	hj = s.nextInt();
        	map = new int[bi+1][bj+1];
        	putH();//æ”¾ğŸ
        	long [][] dp = new long [bi+1][bj+1];
        	for(int i = 0;i<=bi;i++) {//åˆå§‹åŒ–dpæ•°ç»„
        		if(map[i][0]==1)break;
        		dp[i][0] = 1;
        	}
        	for (int j = 0; j <=bj; j++) {
        		if(map[0][j]==1)break;
        		dp[0][j]= 1; 
			}
        	for (int i = 1; i <=bi; i++) {
				for (int j = 1; j <=bj; j++) {
					if (map[i][j] ==1 ) continue;//å½“å‰æ˜¯ğŸçš„åœ°ç›˜è·³è¿‡
					dp[i][j]= dp[i-1][j]+dp[i][j-1]; 
				}
			}
        	System.out.println(dp[bi][bj]);
        }
	private static void putH() {
		map[hi][hj] = 1;
		for (int i = 0; i <=7; i++) {
			int x = hi+di[i];
			int y = hj+dj[i];
			if (x>=0&&y>=0&&x<=bi&&y<=bj) {
				map[hi+di[i]][hj+dj[i]] = 1;
			}
		}
	}
    }

```

# äº”. çº¿æ€§`dp`

## å­åºåˆ—é—®é¢˜

### æœ€é•¿é€’å¢å­åºåˆ—$LIS$

https://ac.nowcoder.com/acm/problem/226831

ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸ºnçš„æ•°ç»„ï¼Œæ±‚æœ€é•¿çš„ä¸¥æ ¼ä¸Šå‡å­åºåˆ—çš„é•¿åº¦ã€‚

>    $f[i] = max(f[j]) + 1,(1\leq j \leq i-1, a_j \le a_i)$

>    ä¼˜åŒ–
>
>    å°†æœ€é•¿å­é€’å¢å­åºåˆ—æŒ‰é•¿åº¦åˆ†ç±»ï¼Œç”¨`p[]`è®°å½•é•¿åº¦ä¸º$i$çš„åºåˆ—æœ«å°¾å…ƒç´ çš„æœ€å°å€¼ï¼ˆå¯ä»¥è¯æ˜è¯¥æ•°ç»„**ä¸¥æ ¼**é€’å¢ï¼‰ï¼Œå¯¹äºå°†è¦åŠ å…¥çš„æ–°å…ƒç´ $a_i$ï¼Œæ‰¾åˆ°æœ«å°¾å…ƒç´ **å°äº**ï¼ˆæ²¡æœ‰ç­‰äºï¼‰$a_i$çš„æœ€é•¿çš„å­åºåˆ—ï¼ˆäºŒåˆ†æŸ¥æ‰¾ï¼‰ï¼Œè¯¥å…ƒç´ å¯ä»¥ä½œä¸ºæ¯”å½“å‰åºåˆ—é•¿1çš„åºåˆ—çš„æœ€å°æœ«å°¾å…ƒç´ ï¼ˆåŠ å…¥ååºåˆ—ä»ç„¶ä¸¥æ ¼é€’å¢ï¼Œå› ä¸ºå®ƒåªä¼šè®©åä¸€ä¸ªåºåˆ—çš„æœ€å°æœ«å°¾å…ƒç´ æ›´å°ï¼‰ï¼Œè‹¥æ²¡æœ‰æ¯”å½“å‰åºåˆ—é•¿1çš„åºåˆ—åˆ™ä¼šå¢åŠ ä¸€ä¸ªæ–°é•¿åº¦ï¼ˆæ›´é•¿ï¼‰çš„åºåˆ—ï¼Œè®°å½•é•¿åº¦çš„æœ€å¤§å€¼ã€‚
>
>    æ–°é—®é¢˜ï¼š
>
>    è‡³å°‘æœ‰å¤šå°‘ä¸ªä¸¥æ ¼é€’å¢åºåˆ—ï¼Ÿ
>
>    æœ€é•¿ä¸ä¸¥æ ¼é€’å¢åºåˆ—ï¼Ÿ
>
>    è‡³å°‘æœ‰å¤šå°‘ä¸ªä¸ä¸¥æ ¼é€’å¢åºåˆ—ï¼Ÿ

```java
import java.util.*;
public class Main {
    static Scanner s = new Scanner(System.in);
    static int n, a[], p[];
    public static void main(String[] args) {
    	n = s.nextInt();
    	a = new int[n + 1];
    	p = new int[n + 2];
    	int len = 0;
    	p[0] = -(int)2e9; //ç¡®ä¿ç¬¬ä¸€ä¸ªæ•°èƒ½æ‰¾åˆ°ä½ç½®ï¼ˆæœ‰è´Ÿæ•°å…ƒç´ ï¼‰
    	for(int i = 1; i <= n; i++) {
    		a[i] = s.nextInt();
    		int l = 0, r = len, idx = 0;
    		while(l <= r) {
    			int m = (l + r) >>> 1;
    			if(p[m] < a[i]) {
    				idx = m;
    				l = m + 1;
    			}else {
    				r = m - 1;
    			}
    		}
    		p[idx + 1] = a[i];
    		len = Math.max(len, idx + 1);
    	}
    	System.out.print(len);
    }
}
```



### æœ€å¤§å­åºåˆ—å’Œ

P1115æœ€å¤§å­æ®µå’Œ(æ¨¡æ¿é¢˜)

[P1115 æœ€å¤§å­æ®µå’Œ - æ´›è°· | è®¡ç®—æœºç§‘å­¦æ•™è‚²æ–°ç”Ÿæ€ (luogu.com.cn)](https://www.luogu.com.cn/problem/P1115)

ç»™å‡ºä¸€ä¸ªé•¿åº¦ä¸º $n$ çš„åºåˆ— $a$ï¼Œé€‰å‡ºå…¶ä¸­è¿ç»­ä¸”éç©ºçš„ä¸€æ®µä½¿å¾—è¿™æ®µå’Œæœ€å¤§ã€‚

```java
import java.util.Scanner;
public class Main {
	public static void main(String[] args) {
        Scanner s = new Scanner(System.in);
        int N = s.nextInt();
        int[] arr = new int[N];
        for (int i = 0; i <=N-1; i++) {
			arr[i] = s.nextInt();
		}
        long[] dp = new long[N];
        dp[0] = arr[0];
        long res = dp[0];
        for (int i = 1; i <=N-1; i++) {
					dp[i] = Math.max(dp[i-1]+arr[i],arr[i]);//å¯¹äºå½“å‰å…ƒç´ åŠ å…¥æˆ–è€…é‡æ–°è®¡æ•°
					res = Math.max(res, dp[i]);
        }
        System.out.println(res);      
    }
 }
```

### æœ€é•¿å…¬å…±å­åºåˆ—

>    è‹¥$A_i=B_i$ï¼Œ$dp[i][j] = dp[i-1][j-1]+1$ã€‚
>
>    å¦åˆ™ï¼Œ$dp[i][j] = max(dp[i-1][j],dp[i][j-1])$

## P2758ç¼–è¾‘è·ç¦»

https://www.luogu.com.cn/problem/P2758

è®¾ $A$ å’Œ $B$ æ˜¯ä¸¤ä¸ªå­—ç¬¦ä¸²ã€‚æˆ‘ä»¬è¦ç”¨æœ€å°‘çš„å­—ç¬¦æ“ä½œæ¬¡æ•°ï¼Œå°†å­—ç¬¦ä¸² $A$ è½¬æ¢ä¸ºå­—ç¬¦ä¸² $B$ã€‚è¿™é‡Œæ‰€è¯´çš„å­—ç¬¦æ“ä½œå…±æœ‰ä¸‰ç§ï¼š

1. åˆ é™¤ä¸€ä¸ªå­—ç¬¦ï¼›
2. æ’å…¥ä¸€ä¸ªå­—ç¬¦ï¼›
3. å°†ä¸€ä¸ªå­—ç¬¦æ”¹ä¸ºå¦ä¸€ä¸ªå­—ç¬¦ã€‚

$A, B$ å‡åªåŒ…å«å°å†™å­—æ¯ã€‚

>    è‹¥$A_i ==B_i$ï¼Œ$dp[i][j] = dp[i-1][j-1]$
>
>    å¦åˆ™ï¼Œ$dp[i][j] = min(dp[i-1][j], dp[i][j-1],dp[i-1][j-1])$ï¼ˆåˆ†åˆ«å¯¹åº” åˆ  å¢ æ”¹ï¼‰ 
>
>    **æ³¨æ„ï¼š**
>
>    1.    $dp$æ•°ç»„åˆå§‹åŒ–
>    2.    è‹¥$A_i \neq B_i$ï¼Œæ“ä½œæ•°è®°å¾—$+1$

```java
import java.util.*;
public class Main {
	static String A, B;
	static int l1, l2, dp[][];
	public static void main(String[] args) {
		Scanner s = new Scanner(System.in);
		A = s.next();
		B = s.next();
		l1 = A.length();
		l2 = B.length();
		dp = new int[l1+1][l2+1];
		for(int i = 1; i<=l2; i++) dp[0][i] = i;
		for(int j = 1; j<=l1; j++) dp[j][0] = j;
		for(int i = 1; i<=l1; i++) {
			for(int j = 1;j<=l2; j++) {
				if(A.charAt(i-1) == B.charAt(j-1)) dp[i][j] = dp[i-1][j-1];
				else dp[i][j] = Math.min(Math.min(dp[i-1][j]+1, dp[i][j-1]+1), dp[i-1][j-1]+1);
			}
		}
		System.out.print(dp[l1][l2]);
	}
}
```

# å…­. åŒºé—´dp

## P1775 çŸ³å­åˆå¹¶ï¼ˆå¼±åŒ–ç‰ˆï¼‰

https://www.luogu.com.cn/problem/P1775

è®¾æœ‰ $N(N \le 300)$ å †çŸ³å­æ’æˆä¸€æ’ï¼Œå…¶ç¼–å·ä¸º $1,2,3,\cdots,N$ã€‚æ¯å †çŸ³å­æœ‰ä¸€å®šçš„è´¨é‡ $m_i\ (m_i \le 1000)$ã€‚ç°åœ¨è¦å°†è¿™ $N$ å †çŸ³å­åˆå¹¶æˆä¸ºä¸€å †ã€‚æ¯æ¬¡åªèƒ½åˆå¹¶ç›¸é‚»çš„ä¸¤å †ï¼Œåˆå¹¶çš„ä»£ä»·ä¸ºè¿™ä¸¤å †çŸ³å­çš„è´¨é‡ä¹‹å’Œï¼Œåˆå¹¶åä¸è¿™ä¸¤å †çŸ³å­ç›¸é‚»çš„çŸ³å­å°†å’Œæ–°å †ç›¸é‚»ã€‚åˆå¹¶æ—¶ç”±äºé€‰æ‹©çš„é¡ºåºä¸åŒï¼Œåˆå¹¶çš„æ€»ä»£ä»·ä¹Ÿä¸ç›¸åŒã€‚è¯•æ‰¾å‡ºä¸€ç§åˆç†çš„æ–¹æ³•ï¼Œä½¿æ€»çš„ä»£ä»·æœ€å°ï¼Œå¹¶è¾“å‡ºæœ€å°ä»£ä»·ã€‚

---

1.    $dp[i][j]$ï¼šå°†$[i,j]$çš„çŸ³å­åˆå¹¶çš„æœ€å°èŠ±è´¹
2.    $dp[i][j] = min(dp[i][k] +dp[k+1][j])+\sum_i^ja_l,(i+1 \le k \le j-1)$
3.    åˆå§‹åŒ–ï¼š$dp[i][j] = INF$

4.    éå†é¡ºåºï¼š
      -    æšä¸¾é•¿åº¦ï¼š$l\in[2, n]$
      -    æšä¸¾å·¦ç«¯ç‚¹ï¼š$i\in[1,n-l+1]$ï¼Œåˆ™å³ç«¯ç‚¹ä¸ºï¼š$j = i+l - 1$
      -    æšä¸¾åˆ†å‰²ç‚¹ï¼š$k \in [i,j-1]$ï¼Œåˆ™å°†$[i,j]$åˆ†å‰²ä¸º$[i,k] \ \ [k+1,j]$
5.    æ—¶é—´å¤æ‚åº¦ï¼š$O(n^3)$

```java
import java.util.*;
public class Main {
    static Scanner s = new Scanner(System.in);
    static int n, b[], dp[][];
    public static void main(String[] args) {
    	n = s.nextInt();
    	b = new int[n + 1];
    	for(int i = 1; i<=n; i++) {
    		b[i] = s.nextInt();
    		b[i] += b[i - 1];
    	}
    	dp = new int[n + 1][n + 1];
    	for(int l = 2; l <= n; l++) {
    		for(int i = 1; i <= n - l + 1; i++) {
    			int j = i + l - 1;
    			dp[i][j] = (int) 1e9;
    			for(int k = i; k <= j - 1; k++) {
    				dp[i][j] = Math.min(dp[i][j], dp[i][k] + dp[k + 1][j] + b[j] - b[i - 1]);
    			}
    		}
    	}
    	System.out.print(dp[1][n]);
    }
}
```

# ä¸ƒ. è®¡æ•°ç±»dp

# å…«. è®°å¿†åŒ–æœç´¢

## P1434æ»‘é›ª

https://www.luogu.com.cn/problem/P1434

Michael å–œæ¬¢æ»‘é›ªã€‚è¿™å¹¶ä¸å¥‡æ€ªï¼Œå› ä¸ºæ»‘é›ªçš„ç¡®å¾ˆåˆºæ¿€ã€‚å¯æ˜¯ä¸ºäº†è·å¾—é€Ÿåº¦ï¼Œæ»‘çš„åŒºåŸŸå¿…é¡»å‘ä¸‹å€¾æ–œï¼Œè€Œä¸”å½“ä½ æ»‘åˆ°å¡åº•ï¼Œä½ ä¸å¾—ä¸å†æ¬¡èµ°ä¸Šå¡æˆ–è€…ç­‰å¾…å‡é™æœºæ¥è½½ä½ ã€‚Michael æƒ³çŸ¥é“åœ¨ä¸€ä¸ªåŒºåŸŸä¸­æœ€é•¿çš„æ»‘å¡ã€‚åŒºåŸŸç”±ä¸€ä¸ªäºŒç»´æ•°ç»„ç»™å‡ºã€‚æ•°ç»„çš„æ¯ä¸ªæ•°å­—ä»£è¡¨ç‚¹çš„é«˜åº¦ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ï¼š

```plain
1   2   3   4   5
16  17  18  19  6
15  24  25  20  7
14  23  22  21  8
13  12  11  10  9
```
ä¸€ä¸ªäººå¯ä»¥ä»æŸä¸ªç‚¹æ»‘å‘ä¸Šä¸‹å·¦å³ç›¸é‚»å››ä¸ªç‚¹ä¹‹ä¸€ï¼Œå½“ä¸”ä»…å½“é«˜åº¦ä¼šå‡å°ã€‚åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œä¸€æ¡å¯è¡Œçš„æ»‘å¡ä¸º $24-17-16-1$ï¼ˆä» $24$ å¼€å§‹ï¼Œåœ¨ $1$ ç»“æŸï¼‰ã€‚å½“ç„¶    $25$ï¼$24$ï¼$23$ï¼$\ldots$ï¼$3$ï¼$2$ï¼$1$ æ›´é•¿ã€‚äº‹å®ä¸Šï¼Œè¿™æ˜¯æœ€é•¿çš„ä¸€æ¡ã€‚

> æ–°çš„æœç´¢è¦ç”¨åˆ°ä¹‹å‰æœç´¢è¿‡çš„ç»“æœï¼Œå°†æœç´¢è¿‡çš„ç»“æœä¿å­˜ä¸‹æ¥ï¼Œé¿å…é‡å¤æœç´¢ï¼Œå³è®°å¿†åŒ–æœç´¢

```java
import java.io.*;
import java.util.*;
public class Main {
    static Scanner sc = new Scanner(System.in);
    static PrintWriter pw = new PrintWriter(new BufferedWriter(new OutputStreamWriter(System.out)));
    static long inf = (long)2e9, INF = (long)2e18;
    static int r, c, a[][], f[][];    
    public static void main(String[] args) throws IOException {
        r = sc.nextInt();
        c = sc.nextInt();
        a = new int[r][c];
        f = new int[r][c];
        for(int i = 0; i < r; i++)
            for(int j = 0; j < c; j ++)
                a[i][j] = sc.nextInt();
        int ans = 0;
        for(int i = 0; i < r; i ++)
            for(int j = 0; j < c; j ++)
                ans = Math.max(dp(i, j), ans);
        pw.println(ans);
        pw.flush();
        pw.close();
    }
    static int[] dx = {1, -1, 0, 0}, dy = {0, 0, 1, -1};
    public static int dp(int x, int y){
        if(f[x][y] > 0) return f[x][y];
        f[x][y] = 1;
        for(int i = 0; i < 4; i ++){
            int nx = x + dx[i];
            int ny = y + dy[i];
            if(nx >= 0 && nx < r && ny >= 0 && ny < c && a[nx][ny] < a[x][y]){
                f[x][y] = Math.max(f[x][y], dp(nx ,ny) + 1);
            }   
        }
        return f[x][y];
    }
}
 
```

